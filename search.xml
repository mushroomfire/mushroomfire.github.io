<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Lammps Cmake安装记录</title>
      <link href="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/"/>
      <url>/2023/11/15/lammps-cmake-an-zhuang-ji-lu/</url>
      
        <content type="html"><![CDATA[<h2 id="这篇文章记录使用Cmake安装Lammps过程"><a href="#这篇文章记录使用Cmake安装Lammps过程" class="headerlink" title="这篇文章记录使用Cmake安装Lammps过程"></a>这篇文章记录使用Cmake安装Lammps过程</h2><h3 id="目标编译的包"><a href="#目标编译的包" class="headerlink" title="目标编译的包"></a>目标编译的包</h3><ul><li>mpi并行</li><li>kokkos</li><li>GPU</li><li>Voronoi</li><li>Reaxff</li></ul><h3 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h3><ul><li>win11下的wsl2，ubuntu 22.04</li></ul><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><ul><li>sudo apt update</li><li>sudo apt upgrade</li></ul><h3 id="安装基础依赖"><a href="#安装基础依赖" class="headerlink" title="安装基础依赖"></a>安装基础依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cmake build-essential \</span><br><span class="line">                 ccache gfortran openmpi-bin libopenmpi-dev \</span><br><span class="line">                 libfftw3-dev libblas-dev liblapack-dev</span><br></pre></td></tr></table></figure><h3 id="安装lammps"><a href="#安装lammps" class="headerlink" title="安装lammps"></a>安装lammps</h3><ul><li><p>此处我们下载stable版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.lammps.org/tars/lammps-stable.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解压</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xvf lammps-stable.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>进入lammps目录，建立build文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps-2Aug2023/ &amp;&amp; <span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br></pre></td></tr></table></figure></li></ul><h3 id="编译Lammps"><a href="#编译Lammps" class="headerlink" title="编译Lammps"></a>编译Lammps</h3><ul><li><p>首先我们测试编译最基础的部分</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -C ../cmake/presets/basic.cmake ../cmake</span><br></pre></td></tr></table></figure></li><li><p>生成makefile<br><img src="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/image-2.png" alt="Alt text"><br>这里有几个重点可以看见，比如FFMPEG这个依赖我们没有安装，所以没有找到，这个依赖主要适用于一些图片，动画的处理，对于我们来说是不需要的，所以不需要安装，下面显示我们需要安装的有openmpi, MPI, FFTW。这些都是计算相关的，是我们需要注意的。</p></li><li><p>编译</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j 8</span><br></pre></td></tr></table></figure><p>这一步是实际编译过程，-j 8代表使用8个核来编译。</p></li><li><p>测试<br>编译完成以后文件夹下就会生成一个可执行文件 <strong>lmp</strong>,使用这个便可以进行计算。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> ../examples/melt/in.melt .</span><br><span class="line">mpirun -np 8 ./lmp -<span class="keyword">in</span> in.melt</span><br></pre></td></tr></table></figure><p>瞬间就完成了计算<br><img src="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/image-3.png" alt="Alt text"></p></li></ul><h3 id="个别库的安装"><a href="#个别库的安装" class="headerlink" title="个别库的安装"></a>个别库的安装</h3><p>实际上到这里并行版本的lammps安装已经完成了，但是lammps包含了很多额外的库，很多是需要手动安装的，接下来我们来安装几个常用的库。</p><ul><li>使用cmake编译不要和老版本的make安装混用，如果之前使用过make machine这样的方式，需要使用make no-all purge来卸载掉所有文件，需要保持src目录干净。</li></ul><h3 id="安装GPU驱动"><a href="#安装GPU驱动" class="headerlink" title="安装GPU驱动"></a>安装GPU驱动</h3><ul><li>在windows环境更新显卡驱动，<strong>不要在wsl2环境再次安装驱动</strong>。</li><li>使用nvidia-smi检查显卡驱动版本<br><img src="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/image.png" alt="Alt text"></li><li><p>在wsl2中安装cudatool-kit,和驱动版本保持一致，我这里是12.1</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://developer.download.nvidia.com/compute/cuda/12.1.0/local_installers/cuda_12.1.0_530.30.02_linux.run </span><br><span class="line"></span><br><span class="line">sudo sh cuda_12.1.0_530.30.02_linux.run</span><br></pre></td></tr></table></figure></li><li><p>添加环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/cuda-12.1/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/lib/wsl/lib:<span class="variable">$LD_LIBRARY_PATH</span></span><br></pre></td></tr></table></figure></li><li><p>检查是否安装成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure><p><img src="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/image-1.png" alt="Alt text"></p></li><li><p>编译GPU，Kokkos，Reaxff，VORONOI</p><p>修改../cmake/kokkos-cuda.cmake中的ARCH为ADA89 (40系列显卡都是这个架构)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># preset that enables KOKKOS and selects CUDA compilation with OpenMP</span></span><br><span class="line"><span class="comment"># enabled as well. This preselects CC 5.0 as default GPU arch, since</span></span><br><span class="line"><span class="comment"># that is compatible with all higher CC, but not the default CC 3.5</span></span><br><span class="line"><span class="built_in">set</span>(PKG_KOKKOS ON CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">set</span>(Kokkos_ENABLE_SERIAL ON CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">set</span>(Kokkos_ENABLE_CUDA   ON CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">set</span>(Kokkos_ARCH_ADA89 ON CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">set</span>(BUILD_OMP ON CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># hide deprecation warnings temporarily for stable release</span></span><br><span class="line"><span class="built_in">set</span>(Kokkos_ENABLE_DEPRECATION_WARNINGS OFF CACHE BOOL <span class="string">&quot;&quot;</span> FORCE)</span><br></pre></td></tr></table></figure><p>Cmake命令如下：<br>这里GPU_ARCH数字可以在<a href="https://en.wikipedia.org/wiki/CUDA#GPUs_supported">这里查看</a>，我是4060，对应就是sm_89.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -C ../cmake/presets/basic.cmake -C ../cmake/presets/kokkos-cuda.cmake -D PKG_GPU=on -D GPU_API=cuda -D GPU_ARCH=sm_89 -D PKG_VORONOI=on -D DOWNLOAD_VORO=<span class="built_in">yes</span> -D PKG_REAXFF=on -D PKG_OPENMP=<span class="built_in">yes</span> ../cmake</span><br></pre></td></tr></table></figure><p>简单解释一下cmake命令，lammps中包含了很多的库，对于不需要额外依赖或者设置的库，比如REAXFF，只需要添加 -D PKG_REAXFF=on 就行了，对于其他的库，则可能需要添加不同的输入参数，具体可以在<a href="https://docs.lammps.org/Build_package.html">这里查看</a>。</p><p>接下来就是很尴尬的一点，因为笔记本内存只有16G，且wsl2似乎内存管理很不好，我只能单核编译，需要很久，内存小，没办法，只能等着。<br>如果你内存32G往上，可以尝试make -j 4，我在另外一台ubuntu (124 G内存)上编译，开启-j 8，很快就编译好了。<strong>当然，如果不编译kokkos包的话，编译其他的还是可以随便-j 8 跑的，这样速度就很快了，从我测试结果来看，笔记本是很不适合安装kokkos的。</strong></p><p>还有一个很大的坑，如果现在直接编译，经过漫长的等待以后，会显示报错：</p><p><img src="/2023/11/15/lammps-cmake-an-zhuang-ji-lu/error.png" alt="Alt text"></p><p>这个问题和kokkos包编译直接相关，我一开始看见网上说把第一个-C去掉，就不会显示这个报错了，我就测试了一下，经过漫长的编译以后，确实不报错了，但是基础的包比如MANYBODY也没有编译呀，当你再想编译的时候，又会继续报错。</p><p>然后我就想着应该是cufft这个lib没有找到，我一开始尝试把路径添加进去：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/local/cuda-12.1/lib64:<span class="variable">$LD_LIBRARY_PATH</span></span><br></pre></td></tr></table></figure><p>逻辑上感觉是可以的，但是还是不行。</p><p>然后我尝试了一下软连接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/cuda-12.1/lib64/libcufft.so /usr/lib/libcufft.so</span><br></pre></td></tr></table></figure><p>再次编译，这下<strong>终于OK了</strong>。</p><p>但是，我还要说但是，我在我原生的UBUNTU电脑上测试，根本不需要这个步骤，直接make -j 8很快就OK了，所以这wsl2？？？？算了，接下来简单跑跑测试。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure></li></ul><h3 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h3><ul><li><p>这里跑一个eam的例子。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> ../potentials/Cu_zhou.eam.alloy .</span><br></pre></td></tr></table></figure></li><li><p>gpu.in文件内容如下</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">dimension 3</span><br><span class="line">boundary p p p</span><br><span class="line">atom_style atomic</span><br><span class="line">units metal</span><br><span class="line"></span><br><span class="line">lattice fcc 3.615</span><br><span class="line">region 1 block 0 50 0 50 0 50</span><br><span class="line">create_box 1 1</span><br><span class="line">create_atoms 1 box</span><br><span class="line"></span><br><span class="line">pair_style eam/alloy</span><br><span class="line">pair_coeff * * Cu_zhou.eam.alloy Cu</span><br><span class="line"></span><br><span class="line">thermo 100</span><br><span class="line"></span><br><span class="line">fix 1 all nve</span><br><span class="line"></span><br><span class="line">run 500</span><br></pre></td></tr></table></figure></li><li><p>测试了mpi并行和GPU加速和kokkos-GPU加速，计算命令如下：</p><p>  MPI并行</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpirun -np 16 ./lmp -<span class="keyword">in</span> gpu.in</span><br></pre></td></tr></table></figure><p>  GPU加速</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./lmp -<span class="keyword">in</span> gpu.in -sf gpu -pk gpu 1</span><br></pre></td></tr></table></figure><p>  kokkos-GPU</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./lmp -<span class="keyword">in</span> gpu.in -k on g 1 -sf kk</span><br></pre></td></tr></table></figure><p>对于这个50w铜原子体系，16核CPU并行速度为0.545 ns/day；要知道7945hx已经是笔记本上最强的CPU了。GPU包加速跑出了2.95 ns/day的成绩；GPU包果然名不虚传，4060这计算性能也不错。而且实际上如果把thermo的频率降低的话还能计算更快，让更多的数据跑在GPU上，减少和CPU的数据传输就能提高计算速度。可是kokkos-GPU加速就很拉跨了，才0.579 ns/day, 有可能因为4060的双精度计算能力太拉了，kokkos只支持双精度目前，GPU则是在混合精度跑的。</p><p>当体系增大到200w原子后，kokkos-GPU显存占用5.4G，速度为0.145 ns/day。此时GPU包直接使用则会爆显存 (4060 显存8G还是不够看呀)，于是我额外设置了neigh no,这样neighbor list就会在CPU端完成，当需要频繁更新邻域时候这样会降低计算效率，但是好处是可以节约显存，对于这个案例由于不需要更新邻域，所以在设置neigh no以后，显存占用降低到5.2G，计算速度依然保持在很高的0.61 ns/day, 吊打kokkos，遥遥领先！还有一点，在输出时候，kokkos中的Modify这一项居然高达60%，这应该是很不合理的，但是还没有找到在哪里设置。16核MPI并行速度为0.134 ns/day，确实弟中弟。</p></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>最近LAMMPS一直在推Cmake安装，确实简单了许多，很多库的安装也会流程化，虽然可能会遇见一些bug，但是这条路远比之前的make安装方便了许多。</p>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分子动力学 </tag>
            
            <tag> 程序安装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo迁徙以及新建git仓库</title>
      <link href="/2022/11/27/hexo-qian-xi-yi-ji-xin-jian-git-cang-ku/"/>
      <url>/2022/11/27/hexo-qian-xi-yi-ji-xin-jian-git-cang-ku/</url>
      
        <content type="html"><![CDATA[<h2 id="hexo迁徙"><a href="#hexo迁徙" class="headerlink" title="hexo迁徙"></a>hexo迁徙</h2><ol><li>设置git<ul><li>git config —global user.name username</li><li>git config —global user.email email@qq.com</li><li>ssh-keygen -t rsa -C email@qq.com</li><li>eval $(ssh-agent -s)</li><li>ssh-add C:/Users/herrwu/.ssh/id_rsa</li><li>clip &lt; C:/Users/herrwu/.ssh/id_rsa.pub</li><li>添加ssh密钥在github的setting里面</li><li>ssh -T git@github.com</li></ul></li><li><p>建立git仓库</p><ul><li>git init</li><li>git add .</li><li>git commit -m “first commit”</li><li>git branch -M master</li><li>git remote add origin <a href="https://github.com/mushroomfire/MyBlog.git">https://github.com/mushroomfire/MyBlog.git</a></li><li>git push -u origin master</li><li>默认不更新某些文件</li><li>git rm —cached . 去除追踪记忆</li><li>在.gitignore文件中添加需要忽略的文件或者文件夹 </li><li>同步远程和本地仓库</li><li>git remote -v</li><li>git fetch origin master</li><li>git log master.. origin/master</li><li>git merge origin/master # 合并</li></ul></li><li><p>安装git, npm, node</p></li><li><p>安装hexo</p><ul><li>保留文件如下：<ul><li>_config.yml</li><li>package.json</li><li>scaffolds/</li><li>source/</li><li>themes/</li></ul></li><li>npm install -g hexo</li><li>npm install —force</li><li>npm install hexo-deployer-git -save</li><li>rm -rf .deploy_git</li></ul></li><li><p>生成文章并提交</p><ul><li>hexo n file</li><li>hexo cl</li><li>hexo g</li><li>hexo s 查看</li><li>hexo d 上传</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 博客技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mdapy使用说明</title>
      <link href="/2022/09/10/mdapy-shi-yong-shuo-ming/"/>
      <url>/2022/09/10/mdapy-shi-yong-shuo-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="使用说明更新"><a href="#使用说明更新" class="headerlink" title="使用说明更新"></a>使用说明更新</h1><h1 id="本库的基本用法"><a href="#本库的基本用法" class="headerlink" title="本库的基本用法"></a>本库的基本用法</h1><h2 id="目前主要包含以下几个功能"><a href="#目前主要包含以下几个功能" class="headerlink" title="目前主要包含以下几个功能"></a>目前主要包含以下几个功能</h2><ul><li>计算原子温度</li><li>计算原子结构熵</li><li>计算中心对称参数</li><li>建立简单晶体模型</li><li>建立原子近邻列表</li></ul><h2 id="导入必要的package"><a href="#导入必要的package" class="headerlink" title="导入必要的package"></a>导入必要的package</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mdapy <span class="keyword">as</span> mp <span class="comment"># 无特殊说明本库简写为 mp</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> taichi <span class="keyword">as</span> ti</span><br><span class="line">ti.init(arch=ti.cpu) <span class="comment">#arch=ti.cpu 使用CPU. # arch=ti.gpu, device_memory_GB=5. 使用GPU</span></span><br></pre></td></tr></table></figure><pre><code>[Taichi] version 1.1.2, llvm 10.0.0, commit f25cf4a2, win, python 3.7.3[Taichi] Starting on arch=x64</code></pre><h2 id="查看版本号"><a href="#查看版本号" class="headerlink" title="查看版本号"></a>查看版本号</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mp.__version__</span><br></pre></td></tr></table></figure><pre><code>&#39;0.4.0&#39;</code></pre><h2 id="读取一个系统"><a href="#读取一个系统" class="headerlink" title="读取一个系统"></a>读取一个系统</h2><p><a href="http://yunpan.mushroomfire.com/s/GzTv">可在此处下载example.dump文件</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system = mp.System(<span class="string">&#x27;example.dump&#x27;</span>) </span><br></pre></td></tr></table></figure><pre><code>Wall time: 2.96 s</code></pre><h2 id="查看系统数据"><a href="#查看系统数据" class="headerlink" title="查看系统数据"></a>查看系统数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system.data</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>id</th>      <th>type</th>      <th>x</th>      <th>y</th>      <th>z</th>      <th>vx</th>      <th>vy</th>      <th>vz</th>      <th>c_1</th>      <th>c_2</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>192295</td>      <td>3</td>      <td>-27.9096</td>      <td>42.0121</td>      <td>-22.2491</td>      <td>-2.35674</td>      <td>0.481940</td>      <td>-0.257686</td>      <td>5.06650</td>      <td>-3.71151</td>    </tr>    <tr>      <th>1</th>      <td>255932</td>      <td>5</td>      <td>-30.0338</td>      <td>43.2841</td>      <td>-22.1938</td>      <td>1.55510</td>      <td>-1.125920</td>      <td>-1.983760</td>      <td>5.16323</td>      <td>-3.69935</td>    </tr>    <tr>      <th>2</th>      <td>319374</td>      <td>2</td>      <td>-29.4179</td>      <td>42.0487</td>      <td>-20.1799</td>      <td>-1.56154</td>      <td>-0.105773</td>      <td>-1.052900</td>      <td>6.02419</td>      <td>-3.51732</td>    </tr>    <tr>      <th>3</th>      <td>383068</td>      <td>3</td>      <td>-27.3053</td>      <td>43.2945</td>      <td>-20.1681</td>      <td>1.75865</td>      <td>0.962938</td>      <td>-2.273980</td>      <td>5.15436</td>      <td>-3.90756</td>    </tr>    <tr>      <th>4</th>      <td>700644</td>      <td>2</td>      <td>-27.9671</td>      <td>44.5056</td>      <td>-22.1799</td>      <td>2.11749</td>      <td>-0.684720</td>      <td>-0.795077</td>      <td>6.15314</td>      <td>-3.85788</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2287143</th>      <td>1715363</td>      <td>1</td>      <td>329.5120</td>      <td>257.9240</td>      <td>323.0480</td>      <td>1.93039</td>      <td>1.215740</td>      <td>-1.869160</td>      <td>5.89311</td>      <td>-3.92515</td>    </tr>    <tr>      <th>2287144</th>      <td>1905765</td>      <td>5</td>      <td>327.2950</td>      <td>256.6070</td>      <td>318.9410</td>      <td>2.16960</td>      <td>-4.590730</td>      <td>1.395140</td>      <td>4.94041</td>      <td>-4.08289</td>    </tr>    <tr>      <th>2287145</th>      <td>1966370</td>      <td>3</td>      <td>329.5330</td>      <td>257.9350</td>      <td>318.9310</td>      <td>2.65692</td>      <td>-3.539740</td>      <td>-1.125020</td>      <td>5.70667</td>      <td>-3.83374</td>    </tr>    <tr>      <th>2287146</th>      <td>2030121</td>      <td>1</td>      <td>328.9320</td>      <td>256.6390</td>      <td>321.0620</td>      <td>1.25297</td>      <td>0.868006</td>      <td>1.104770</td>      <td>5.42057</td>      <td>-3.39951</td>    </tr>    <tr>      <th>2287147</th>      <td>2093740</td>      <td>5</td>      <td>326.7530</td>      <td>257.7980</td>      <td>320.8960</td>      <td>2.40437</td>      <td>-0.944472</td>      <td>3.358390</td>      <td>6.04798</td>      <td>-2.90699</td>    </tr>  </tbody></table><p>2287148 rows × 10 columns</p></div><h2 id="生成邻域列表"><a href="#生成邻域列表" class="headerlink" title="生成邻域列表"></a>生成邻域列表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system.build_neighbor(rc=<span class="number">5.</span>, max_neigh=<span class="number">60</span>)</span><br></pre></td></tr></table></figure><pre><code>Wall time: 3.82 s</code></pre><h2 id="计算中心对称参数"><a href="#计算中心对称参数" class="headerlink" title="计算中心对称参数"></a>计算中心对称参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system.cal_centro_symmetry_parameter(N=<span class="number">12</span>)</span><br></pre></td></tr></table></figure><pre><code>Wall time: 8.7 s</code></pre><h2 id="计算原子构型熵"><a href="#计算原子构型熵" class="headerlink" title="计算原子构型熵"></a>计算原子构型熵</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system.cal_atomic_entropy()</span><br></pre></td></tr></table></figure><pre><code>Wall time: 4.31 s</code></pre><h2 id="计算平均原子温度"><a href="#计算平均原子温度" class="headerlink" title="计算平均原子温度"></a>计算平均原子温度</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system.cal_atomic_temperature(amass=np.array([<span class="number">58.933</span>, <span class="number">58.693</span>, <span class="number">55.847</span>, <span class="number">26.982</span>, <span class="number">63.546</span>]))</span><br></pre></td></tr></table></figure><pre><code>Wall time: 1.21 s</code></pre><h2 id="查看计算结果"><a href="#查看计算结果" class="headerlink" title="查看计算结果"></a>查看计算结果</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system.data</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>id</th>      <th>type</th>      <th>x</th>      <th>y</th>      <th>z</th>      <th>vx</th>      <th>vy</th>      <th>vz</th>      <th>c_1</th>      <th>c_2</th>      <th>csp</th>      <th>atomic_entropy</th>      <th>atomic_temp</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>192295</td>      <td>3</td>      <td>-27.9096</td>      <td>42.0121</td>      <td>-22.2491</td>      <td>-2.35674</td>      <td>0.481940</td>      <td>-0.257686</td>      <td>5.06650</td>      <td>-3.71151</td>      <td>5.066506</td>      <td>-3.704394</td>      <td>271.311096</td>    </tr>    <tr>      <th>1</th>      <td>255932</td>      <td>5</td>      <td>-30.0338</td>      <td>43.2841</td>      <td>-22.1938</td>      <td>1.55510</td>      <td>-1.125920</td>      <td>-1.983760</td>      <td>5.16323</td>      <td>-3.69935</td>      <td>5.163225</td>      <td>-3.693706</td>      <td>244.521713</td>    </tr>    <tr>      <th>2</th>      <td>319374</td>      <td>2</td>      <td>-29.4179</td>      <td>42.0487</td>      <td>-20.1799</td>      <td>-1.56154</td>      <td>-0.105773</td>      <td>-1.052900</td>      <td>6.02419</td>      <td>-3.51732</td>      <td>6.024189</td>      <td>-3.511253</td>      <td>240.937302</td>    </tr>    <tr>      <th>3</th>      <td>383068</td>      <td>3</td>      <td>-27.3053</td>      <td>43.2945</td>      <td>-20.1681</td>      <td>1.75865</td>      <td>0.962938</td>      <td>-2.273980</td>      <td>5.15436</td>      <td>-3.90756</td>      <td>5.154361</td>      <td>-3.897303</td>      <td>230.167953</td>    </tr>    <tr>      <th>4</th>      <td>700644</td>      <td>2</td>      <td>-27.9671</td>      <td>44.5056</td>      <td>-22.1799</td>      <td>2.11749</td>      <td>-0.684720</td>      <td>-0.795077</td>      <td>6.15314</td>      <td>-3.85788</td>      <td>6.153219</td>      <td>-3.849362</td>      <td>243.981369</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2287143</th>      <td>1715363</td>      <td>1</td>      <td>329.5120</td>      <td>257.9240</td>      <td>323.0480</td>      <td>1.93039</td>      <td>1.215740</td>      <td>-1.869160</td>      <td>5.89311</td>      <td>-3.92515</td>      <td>5.893107</td>      <td>-3.916707</td>      <td>260.688812</td>    </tr>    <tr>      <th>2287144</th>      <td>1905765</td>      <td>5</td>      <td>327.2950</td>      <td>256.6070</td>      <td>318.9410</td>      <td>2.16960</td>      <td>-4.590730</td>      <td>1.395140</td>      <td>4.94041</td>      <td>-4.08289</td>      <td>4.940413</td>      <td>-4.073879</td>      <td>320.674103</td>    </tr>    <tr>      <th>2287145</th>      <td>1966370</td>      <td>3</td>      <td>329.5330</td>      <td>257.9350</td>      <td>318.9310</td>      <td>2.65692</td>      <td>-3.539740</td>      <td>-1.125020</td>      <td>5.70667</td>      <td>-3.83374</td>      <td>5.706692</td>      <td>-3.825464</td>      <td>344.000671</td>    </tr>    <tr>      <th>2287146</th>      <td>2030121</td>      <td>1</td>      <td>328.9320</td>      <td>256.6390</td>      <td>321.0620</td>      <td>1.25297</td>      <td>0.868006</td>      <td>1.104770</td>      <td>5.42057</td>      <td>-3.39951</td>      <td>5.420572</td>      <td>-3.393086</td>      <td>241.169174</td>    </tr>    <tr>      <th>2287147</th>      <td>2093740</td>      <td>5</td>      <td>326.7530</td>      <td>257.7980</td>      <td>320.8960</td>      <td>2.40437</td>      <td>-0.944472</td>      <td>3.358390</td>      <td>6.04798</td>      <td>-2.90699</td>      <td>6.048002</td>      <td>-2.902135</td>      <td>245.842743</td>    </tr>  </tbody></table><p>2287148 rows × 13 columns</p></div><h2 id="查看平均温度"><a href="#查看平均温度" class="headerlink" title="查看平均温度"></a>查看平均温度</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system.data[<span class="string">&#x27;atomic_temp&#x27;</span>].mean() <span class="comment"># K</span></span><br></pre></td></tr></table></figure><pre><code>293.87168742301066</code></pre><h2 id="与LAMMPS计算结果进行对比"><a href="#与LAMMPS计算结果进行对比" class="headerlink" title="与LAMMPS计算结果进行对比"></a>与LAMMPS计算结果进行对比</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># csp 对比</span></span><br><span class="line">error = <span class="built_in">abs</span>(system.data[<span class="string">&#x27;c_1&#x27;</span>] - system.data[<span class="string">&#x27;csp&#x27;</span>])</span><br><span class="line">error[error&gt;<span class="number">0.1</span>], error.<span class="built_in">max</span>()</span><br></pre></td></tr></table></figure><pre><code>(Series([], dtype: float64), 0.0049196543884280075)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构型熵对比, 这里由于中间数值积分的地方我不清楚lammps的具体方式,结果数值上会有一些区别。</span></span><br><span class="line">error = <span class="built_in">abs</span>(system.data[<span class="string">&#x27;c_2&#x27;</span>] - system.data[<span class="string">&#x27;atomic_entropy&#x27;</span>])</span><br><span class="line">error[error&gt;<span class="number">0.1</span>], error.<span class="built_in">max</span>()</span><br></pre></td></tr></table></figure><pre><code>(Series([], dtype: float64), 0.08606090263366717)</code></pre><h2 id="保存计算结果到dump文件中"><a href="#保存计算结果到dump文件中" class="headerlink" title="保存计算结果到dump文件中"></a>保存计算结果到dump文件中</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">system.write_dump() <span class="comment"># 生成一个新的dump文件</span></span><br></pre></td></tr></table></figure><pre><code>Wall time: 30.1 s</code></pre><h2 id="建立简单晶体结构"><a href="#建立简单晶体结构" class="headerlink" title="建立简单晶体结构"></a>建立简单晶体结构</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">FCC = mp.LatticeMaker(<span class="number">4.05</span>, <span class="string">&#x27;FCC&#x27;</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>)</span><br><span class="line">FCC.compute()</span><br></pre></td></tr></table></figure><pre><code>Wall time: 506 ms</code></pre><h2 id="保存为data格式"><a href="#保存为data格式" class="headerlink" title="保存为data格式"></a>保存为data格式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">FCC.write_data()</span><br></pre></td></tr></table></figure><pre><code>Wall time: 3.23 s</code></pre>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> mdapy </tag>
            
            <tag> Taichi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>和香宝的下午时光</title>
      <link href="/2022/09/07/he-xiang-bao-de-xia-wu-shi-guang/"/>
      <url>/2022/09/07/he-xiang-bao-de-xia-wu-shi-guang/</url>
      
        <content type="html"><![CDATA[<h2 id="甜甜香宝"><a href="#甜甜香宝" class="headerlink" title="甜甜香宝"></a>甜甜香宝</h2><p>最近迷上听rap的香宝下午和我逛小花园之我的拍照技术嘎嘎上升，嘻嘻。</p><div class="fj-gallery"><p><img src="https://img.pterclub.com/images/2022/09/07/6ad2e7fa855c3892d873ff45846b48f.jpg" alt="6ad2e7fa855c3892d873ff45846b48f.jpg"><br><img src="https://img.pterclub.com/images/2022/09/07/bbf8420fd5fbae2c4d30c831d47ca07.jpg" alt="bbf8420fd5fbae2c4d30c831d47ca07.jpg"><br><img src="https://img.pterclub.com/images/2022/09/07/ad090732a1842ad6ace427fc93055c2.jpg" alt="ad090732a1842ad6ace427fc93055c2.jpg"></p>          </div>]]></content>
      
      
      <categories>
          
          <category> 恋爱生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Love </tag>
            
            <tag> 拍照技术 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>晶体建模加速版本</title>
      <link href="/2022/09/07/jing-ti-jian-mo-jia-su-ban-ben/"/>
      <url>/2022/09/07/jing-ti-jian-mo-jia-su-ban-ben/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉，您输入的密码错误，请检查后重新输入。" data-whm="抱歉, 当前文章不能被校验, 不过您还是可以看看解密后的内容。">  <script id="hbeData" type="hbeData" data-hmacdigest="dcd7849c4ab9b4cbda97c7ebc9276fcee1ede7a2deb5bb776d25e10a4680ced7">ff68e0d3ddd67740a26dbae1b0e6e49eda9b2e5ed2682f2ce4a9e775f3087d1cb818f837c049c720192faef0775a49e5d116a55aeb82e834765938be8374a81219792409d1cab707f3c43bec5c3ab6609dc38c0f2c91f78a786213b69fc54d89ae624e2c40daa363c8d1b0bcb32342014def0c74799e46bb227c6939e09dd09c7813bdacb9e5fd6bae8fad0d9bd819dcec2cd4031637da13336fd797e02e6409a22c9847adb9ac3dad0235b9c9208baf1a52ffadfe08f94c637a06bae2ae113e524e2e363d1d3f0a728e50e73072d322652defeb5c7dff5096809ae9371d814e75724af132f887b7bc1f0845f68a3b6f67eb50f973d9d670c281342da071c1fec526868b1f4e6033f225a205ff7cab66d7bfe3e9822fe4e9df71a3ae16a79b8a2a362f49df9d1dada51139ea8ab939e1ae756c6d2e4c8dfb4baff247140d1cc2363bf6e9441c7eb9102b88507f0efc22d9882f8e5b8b3dee769c4335f24d687c5c3c7686ec091106ec804cb6c3560ab473b43996526f6e074bc022fc096699e8ff49fb307f8d3ad877e179b7d2af324b1762a9fb9bee3827d1ff607ee1c698ef823e373e86ca8ee8fcbfb197f5bb06120ab8a2567957c876ea3cb22798e37b474eecc0691c400b0174e818ed3c2124165d9e2d94f734296febf5dfd9b9c2a69e974fada90887bed8bab7345b9d660c977123f0ca7a3b0670af83da590e55668f1a6c435294218ee868e4f2e5f1a7bde07d3086d9f6dc322c4d5579ea2861375456765643f8e8aa4cee3567c028b7e14d5dca6f487bcb5d56e8d2c6a86d97dcf496286c5ad2ca636077d5baf2351f02f5745c4c809c2256327c2b99d58cc5955a57260eb6435609d8ef8afe6b0ef0d470b5fcaf4492e7e4251bbe4ad6464b1fabf2551351562538368d962eaad8f6dde346a79dbfcac22260d9da6193897ee57bd13cf27d2f7aafd29c0a42d188f07c917e9e89706217b2a3b017b380b51db5d752214f64e0412488bdda5f9b8950219b62152e401203858d1991729d7eaf99ee35f0fb2b88ab9583365e05d6d015af3f022b56669d15dbbedaea4c90fef3baeda1e43fbfeeeb04a2f10c39e5a8198ba99715ee1bf4f39bc708659dadd7a8c8ba849017a11ff5b32bddf33605b2d988d2d0430e1f252b27149ac99c66f246a01927f2eee153f417993a0aa4e871e30dc8feefdf9a2b6879da84619b78e54d34e997dfe6bfa1a11d9dcde0921073a231badd24ff5c41d1fa902ce6934cd53045d5dd3cff127ed13a92feac65e4d22a6eb4952ceedaa8c71640777b97d8b3912cfcea4f3c7eeb1e5064c61b0d65ac3f7c7a17c08f983a7446442d2643a0a08663e33b293a00e30e8896efcb0c1190a505ea63b8a88e5aaefdb6cbd6bd92cde10ecf60249c65cc3aaea6fa640850d3688a045b09d5adc8510c048ce82a9d0a51ab00fb043310a2abad7e6fb8acf6d5c5d8962b74ac1d0aad7d20ad43897416422869220839788f084dc80d779407bbb7043c74aa129b918b0484babf6a136571ba351908680f6f115a2d190763dd0524873480ceeb761c24f11308f71d25b8fd212773a9a9bee922274f16b30c3990371fb130e194c150f13b2aaca69b9f8b2341ba89e0ec52bbb03932762f139bd9f6b1af871238771014cac3d23908bbc0e499e0013571dd521b4088e4f873df9a477286840bb460610e0f3c24c7876ca0137c89bb0c96a80efc7523e45050c34ae2f07e2010d8932bc7aa8c137bf721798ebbc2bc78d435f0b02e3a3e2746ccf5a1eadaf5bf7bb7b879fd3a572ef606925ec1dd6e74a6044c36fac836ebf598ad9a52642d0afb2ce3436ca10c94cc3a4d168d75d6bde1b97c1c39dc7b7147dba12df4885b52007d70250170fbafde895970d78dfb633dfe8ca4e3136319411299e35edb1bd5a0d55eb1cf5c7c1f65971e234f02f25e399bbcb3b4199bcce4358956dd8e22f9b4741fb1ab6cf183a80faf116fa2c266cf2070e0f9aaf7396f83930b8323ce34aed2c33a5e0f79fd717ecdca4678b4a14dfe42c0679554984929163600f28c3ef1ae30822ebca0fa5e84ed6dd8f9c2ed11081b872e5b8688e1e8b41995b3d54693461860a055019317c88d06c3943308f4f08afae0c5717bf6c9abe4d661b88d1e3c18ade5d24ac488eec9d142969e8c3426f1439f0b776c61454d42523b4784545dacbdd2b76eb7e398c46cd9cafe466f57532b4ff724baed5159e0108a44657828a610a6cc409247dc191fc3e5eb3fd6f5638e3eaf5051524c0362be8af6e5cec55191f95c66ab067c93a8b2cbeb1c1bcc53bfb2b86d8d2d8005220b9230282d03df9ce5580f9541f8087e7f8df35764e849669e776a4a3e18239b7b42ba499c68fc78d80cfeb7f53cb2c5a4358c60a6cc301e602ec162efefac230bbcb4d9b2e1c34bb02184aadbd946803108a74eba1286cf355b0b97033edc527cf6aec2adc1b95bb22452b147a472cf3144f88064a4ee32f9600e855e0deee9b56c353bcc371731b69350512d96b7ed81d838e5a66eafbbf7e6becbce85c64940ac04f8dc14828557f177227982cc6a08a88d068083516d15a98558e9de1905946fd4265bd5de8100a676bd877e09e11cff78b2a69d2882d027af12ec6971a3610bf5f880798e75771acf4973936a1cdb276362e63e82f5e2e9e02f819027343ade8aed05483805211a3889dc87c3a458ea7f793503a8b262605fa71a9337b776efd12cba94a4976b0dcb3caf94aab43fd4303eea8fa62eb0dffcfa321f7471c4b03485aaa4832e1bf6c877229c188ea3abe98e37950aa431d607311b246d4c7813a7be8f10c62cba7d51bff4c4f4ab5fb188fe8115a7084a51003d89660c9002856ba4d149a7c294a05f4e933128e02bf5399012da9661ec4defa639ddf129f16bc34e0f2476a81342a355d57ccf9b3b7f6c57c03c7e8f9a2e313beb4820e09b4fbff96ad0107f1f608e9063c262cb43f1681f745e408ec58ef7c10890719ba0d2efd1841d37561a2d26e97730ebc70664f7c956e80d8ad9018bd040b80e9ca7e485062600ed6c35a4ca1dcfe55cc7ae291e60c0bcc6d1a5ed1dad6c69d2980a010c1ac2986e3b702b2c2aea98c672526e9bc719a04e4e234dfd62b8eb5ff677077a1ff88fd8f8e832fc61f8b61f42771debe4c5bf2946299b502476e67d52e0ada0a94dab70134798a9d3ff047ac3f0da4aef6e6b05729338f64369b6104fef1c08228f901462e813ae1806044d55292e4ab2b55e84703992e060785b7bdfab0e7d33df051c555b38665c15a8936efa25e3397b70719dbe3e46c6888e4fc9b9825c6ce069d8f8eea5e6780abd9c4603a8dccee1376f792edd37fadc3121ea506957308d693636164fe1c28474ee1a6cbbee9a62f528797fbf55e8b14a543d678b713625348c213294dd6b5681f4e139d78283eeaad1cc83076de75ed97d4cd4acdbf0aec779a0f7a303c8bf70d178ae14ed0fdaedb17df146f21f12ddabbc7fa6121eeb026ba57ecc2823f057d3ce69b9b3ac700d01d66f18ce4c6e1d9174db99e40d094150fa7ceb4d7ea2b07654c8688c26aa406edf5c30d2256f7eb24616bdaa7a69a9d0e7976e459256da370851ffd784f2fef6749557dc2b180d008d112f385fce2eea8ede52b3f7c082dd4898f8a6c391c77f97133057525c1dc730a7bf519a3d553bfda4dbe166842c60226d7c937b992b974c9365919546c6d6d41c21d854e25c683a350c42b120206aef287bb4db6223ed7b72e891603453f4f3bf50e6dfb48e287c55a4e44705b5dc3e415480a35ef2a864465dbfa533285ce0d22367ce09cb9a084f8a972310f02b405543bc44d456a6ee10b62fe4f11f1b95baa4bc9f81f7f1d1f5e62dca6a15670d78abeef94cd3a76acf758284c958414a03dcaca41cd31c7728a34640d3fb24b6920e81a9285faddb3d2fcaad2cb8433f6f06e2dbfccbf17a2d74d4ca58d890da4ff454e7c83b66930c3f077a84eb7b79dd3f8bc7e91d591bfb1cabbf5607132aeff07337e6473906156193d65869249d858ea8a8acdecbc065035fce7161949561e57cdd99dde46921765371ae3d709013a5b8748dd4ad91cd7348511437ffd291682b29f660375fe7f95ca4f5ff235f3b6985e0d99e65a0d9de062aedb3fe213ca1f484c67e847ec15c5887aa0f4611d40e272f65d4fbcd380690db12bc4a942bed2e19b4a67381b71b7840f5070855d8bf43e09a205b2163dc4fe3f25b244a871d66f47d09124ed7097c7dd60c85177ae074b88363a77df90956e8fc5fcedfc8dcf9070415fb8d356079f37b4caf9602d67957e2acefb4e67a6384670dd1ddd340b379bf6cb9db3ce0eba21ca3cb10ecc59824b29d195f04682240a0d0b46c5a51749b60213f0ef3d8c26ff8626528b7823fd8c1410728dcb353c476c24a8f56220dbbd0c15d3a0974f5d3c72348123ff3629652fffa108ef7e99167eacd7d3e257f3fb22fde1372d5e903fb4ef38f050e5624106645225b6400add2a5fea385df93e7322b7a05b7d040a675a447d2c013d110b27b7213900e83a46fa96b801edbd1e76fbe19dd8d526c1f05ae0f4147e385903a66478dfcf987af89a7d50c1da58cbe16904a1a4d591b53e33655f5478764cc6742cf84acc085116aecfcf0d5023dd6965155ce29baa8477ac8a034290aac5a4967bcfd473ba110d89da0007442f166af54e6b97bc1b55cf7c6a28e971bd189bce440144fc34e59cc75bf233d7d199e0d5de6ce0c676f2f61e0ef847169d6437a5b164fe0c98c0cbd2d2a3ba77b4c2e91ad4439d82c1ce236ff513b9eabb6236c0b8d2a815b24a3144e086e564f3d4428bcf4d0335feb0d819a4455fa79826d8de753544459e842ef212482c79462caa4a61f652a7f44428edac9a7add9ae6de57c972d778d7321a758bcc165a86aaedd003f27fa23dcf296e721f32828126f65bfd27d7eacf8d41ea5f3bb165e64812d69995e2dd18f807a17788320702beced67a80af69653797a44b59bb4dca65aa9f0cf234a0166229449d43b5f21a0484cde9c22bcd1acee25e3ea8c217facc2cb6ace8a73c648d2f77dd84c9145b83e43e518041b9a759c27738a7d05f414c79756e627cffae093f7251b86549d633f01a7939567db91260e38f615abffdb78d7cb6413793b1a8dcacaff95acfe9e2b26d296d5b943b509411d412f34d5e60a1d5b0d1fff801dbc5fdb9b6346d944a9fdd99434066a4c7e6e0c63a6ebd73acb285b1b6f1cc7caa3dc57fd3c85c5495e10eb61afd0c68b464614ccc940fc07871b8d56ec879e43e1f5812458bdfb901325fd2280c1a73d2d5e1f46c9a45fc5ae24d9265a494d6b5d59f560b79629d513a34b17bf6973a42676444e7a35dc7f21bb5db68393bb75b0ea61454a53c44a1fbe531dba07d81fabfb96f97b4ca0d91b31c554699d3c55840d4a63dc249257c4a1730acc16b1d5b9c7e44dec946c104c968f465801f2cb44d3d6e7764bff602ba7133f882c5cc748750c3b4e8fdd8ba3ae6b30adcca38324fe13c3d94b84fc7211749261d94c08b8a6bcd2cc855bc6c5fe48259958eec035fd36f69f9574594b530dea4ce3c4b398ce318400f50ea54817fc3e12426f850a87ae7a78a6a20d70e37f74bd019fa45de7fb6efdf5c7c74d1c898f85e884b8868be8aaefa1aefe937d4239fcab834e0695fc74b0039bffa26d594d5cee22c8352025d1c0008cbca861d5a8659036a4b26e67d5b5c29c7dd2ffa05d66b80a06aaca7b133829aa012ae24bc9aead1d249500ddc12a515b536fb8fab85c694aad22fc45dd58bee7bdafeca1180c3df72a7c12154e243159789a1a4c872fc1495d6df870537cc84a1737478c3e6634d42744dc7da563a8d5d88d651cef4af93ec079c34c575d7253fe11cdea94933247e71ca5ba804edc4159bbd651942d41743bd97e5437d4b6f7e846780b6e8f2267274ba834470d3710b80956e9cf563f05443643ad19b2980ab0ef7d394e29c21dc37c7f7b74c10d6d9284c10cde7ecdad94079c59e46a60fea10b2d67b5345ed0d8e03fd10ccdb4e9f19d79c65154ab304c747a053a10d44450a900ddd949497efe57f22e42f3c538844013789594513aedd1e701d3f1c9ab563a9ce900d4fa4f68fa205be0ea4a3b2921019cbb719958279c87952fbaa96ff18676c13f228f6221c6a2064ad5899b58d2816f05cb7245ff6ab016e625cca5ea07ecfc9f1b0cfbc05a0a1b889f5f6b6d8065014c513a44520b7cfd6a03c109b01e01a70f684b9d9eddca4ca629c9cfdf8ee7d0371274330b510f3529f31f0e084f067d27ffe7748c5ad64b2cb635e091c9e56190a1802f294355eedef78aa5a8bfb43f49e6cbd692e1177cbca886c168e45da7baf78be592312711e1a98cf7dcc618eaa7687c02bc4493c7b0ff94c61b4af0a0f4237912588c262b1c8bb398114ed2a904e8a23ba026b43b34fceb53e40c25c1133c25435144f2e18837e81adeb2b25cb9151ba2c5124f179f878b66e953affc52b9235102fd30bee131187d6674aa89d47b5a535a878eee604dcbad9aab538f55179c13eb1decc6c5574245f2c1e365e3f7f05601293deb3b903a973133a58e8b16c8b1a1707c92526a339381fb58c223bae51655348cf102b941b588de34da4244376f5643e52cebe3746d4e581ed144bd4ee27d20a7e4da06adc7a98b3456f59479640cb7e36f17fa8edec8333008cf9dd78113f3351b77bfe60b438824a6253a666322f89f2d724b1f57b24e6fcf10fd18de092ca618453a0d9b6af5ce824a3cf3711ad94302be8aab31c0b2195f4a6cfe6386d5ad78796c47b0cd8ec085ded7586d7fbd643ddc28136692e305e4abb2150b85624677c202fe8c0d83952d7bd0ef7003e3800c90754a3ce7a71545c6df43b6c48e8d2321078e0977248a5d881a3395c1680c6edff54b6b01448bb37c39ff47819fd917b45f07e3b6705b45fccebb85d4de2ce91c18b4db1a355698f5abcfbc08b4a37c3c5a2a11d2f9d77c9c712d8d0a0e846568c120af8c165919e883bc4a5b0dc61c4306568a0579d43bd9bc234b022ee15ca387f4ddf9d2a6d293f2c581623e37699f42a29475b2a7145c04d82a473c521219bf99272110b45ffb7e09f79ea4bcb9559aa4010e135d37de7443cde4e7949c7895d22ef830f2a2836b6e99f2d77a866536a84a890abb7f14f070a9f374a158d16713ddf9b7a9e79fc666289b139438fbe1ad2a68b6619d6754cae9ca21b709c2d651f42a9d7a53b77f5e4ed271e6354d0c0f6d105fb03fdfe95e6a82ed82e822fdd9188329bbd04cd6518a20446264b7807a3021c45d8843c2dcc2bcd873915c4f64905938aacdfafb54cb0b098a653d84bd7ee4fcdb3fb4b0dffb1d8a15d27e9cbef4686a8562186088c24d386c4ee3cbb7d61b5069e16e25943ad6ad511ea9ff31cc42c1ae5aee84e832800b1f05686d01b6d25ccf6e43c8e7c172b89191a6a1cf78798ca210c7c01b980a51f0b4f489aafbbb75a7fdf3a388b000f84564e7eca23ca1b89e3a5078527b917b0b932e51c9ac8be7fa3201cf76058d906842d3a52016f2d80da71eebf437873ef07d071774e6f26292742a281fe8e65f8770e4a442d9a863c829067d05835a3a883e44e5d93e5a03f8b125f64383b6a1ef63468c8c6bfaa0329fe47887053edc143b7190a49d2adc9b614cd871bcbca2eae8d71c1b0b38e99df8b7e2bb00ed9d27ec2a7e3ae61bcc6a1f958a796c820ef183a6f3d62f935f675b897e4b094cbc932b0b3a2b7f5e593959cd11a812b86f2eacc040c0a185170d37eaf0ad6891870ef50f9e0aa5cc4949e395c2bdfa1a259058b366dda949cbbb67d989e4107138d25eda239ad78e14dc442d641241e8c74ddadbe886723d3e47a75aed4d3b555360d2d65b91a308b0c4c6f44accc6dbdc0ddeba16031ae84806f1f661f4a65869f75fa431825814c94acc50ca48acd224d26bedd8e450e29c793c5957981550f3b095c5980c72beed568c31d63a5696bdb81d8502ea5178adf74904e12ff60ee28f7a321e072c8b3ed04be9a5a97c7a78fcc58b685c40a38023c78fc9ddfafcc6d83550010ce4625fb261448cae8681f2240f0f2317c0026539c7e4090f4204160e3ecc28725d74ae034bf0f16e09d5f16b40726c281ef3036d100860c03b9db2910e02f1d886f6b8acf196f053567449f06a1ddb166d6cec32b3779068734cc396a3ab76efca34830004da7d1d0c36d762998f1ca45cd39625997151eff888c13efea96603d6e3e528e30088dd9688c313b79465d6b9d1b1f113604f7477264ef81d042b9c82365bebb4789bcf18f27d239eac7db888dfd920f7efed3edbee15b4a25d4fa63eed5add4f602c9e0fc3e453fc3a8a47f2c0731228d717c57d908ac84a4dff1680920ff3852d1bab7ddeb0dc19f988185545946f84ebcca8177466dc04939c3e54eea39f5794bd813fb758e6e44702560bb678cecc1251a0faa2ce3cae1e7380c0dbe77048aaef0b747467b4cb2b3147a17d529cbc22c572fcf0089a7948da58a3febf187748ad4ba2bd5e3885c2e61d61fd29d54984e3c1bd62dab7c282b711aa79f66a110a6e1ef73b2eab0fadf28fb60679d04aa78fdeea1355881aceb14bdda809713422cb250f68b2a46f19e0b9bfc3d835b1b97b0f629d832184916fd1eb4fec1cf9299f902c7f6f89071e2f168a437e79a283c05f4b3865132a30d141e9770dbad02a8101dd1128713499dcb547a65c402400b8ddd5c15f89762af1634c1024b088f8772a44640eb1a0c6a812760a87871ffbf42a25c4b7d7cdb75f46ced34f0887fde3cc3862663df6c3694bb9bf9674844aa83b7c93fa9251f140dbae18f1f573397ce77070929dd1a0134ad198e8f306fb0e9a7c41201ef2ba4632feee607efa1a0591c42831f85440630c77621c7c5afffc4531e116d7dcf1a1ac8610029c19db2fab780869980a641800a8493fadae25f37711222412b106ec86846dea16768078f2612c5648b13ff106fd2bcb3ab4d0e3da7b57e2a152443e7ffcaf6b2f3688d42ce200f06918f98c861579178127240b1d87dc6bb65b08e0a871a8d6a205c2930bba58111196dd97473a7e0491e4422ee37007a0dcb22ddc6c9619c801ea04c5e19e0548e901c0a084a2d4ed235055eac8bd7f44ab0171ef8e75ef7eaf9f97e57a9c33df18a17580c062ee1a9c86277e745a66629f6268dc489ae0600b6cf46fc437d95d3f091414c2d8cefd52e5937d824d2bb78ef068f78d791792ebb4f7c76d59e012f55b103aff42cd745a25254cb8376f851706a5b8b2ea7381412337a0745b41110032371c323c8ede96429d1eef54f027a09241e9bff12be6e852acb9082a70eac406d82bad8d6bb1a152c344daafb3892a822f043f62cbf2cc77c988185919ba55f00259550cf217f3758078a373aa393d39d3ae901d28d67569de11ee647348147349099ae2a385e824c03a21b9d8c036333d212cba6c0d20b0737b65b50b447575686c93470aac5b29ed6b1c58c95a6d58fa873e543fbbc270bef4368e274400c0793b24c8494e8f747bbcfe5c00bb13e2024031a88a269a800cac5985ae14e112bd91d0dc6cedf1f26d8962fbc8d054ab38ee1d52303ff6271623ab57445c74015e60e1e28925024da06da46c0c43a0ff686c833f8c392f38752303e2bd1f9eb1f760bd9866dbb51b7f106c25d4528bedbe187fd3f75d2957195137e5795173c7af9015d4380284ec984dccb13f5e5a19a9a6dcdb57cc9a3ed515c05cae95582f81546a2a35ea0463c57b44d426e2ba8b606a2d0211ce2fe4d381be4c5352f9e174d396cc2f73fe9b4c26a8402f191cb44cde08f22e81e03a67b69798330a5f83afbbe1503f2954d645b7dcd85075cbcfc9f7c2a8bc9c738a467ea393ca508522b602a44eb06f1290e600c085b94406ae67aabc50376c5182eabcc57d8d52905245a83f91b082f9de0029a93d9d512f1ffedcd5e467bde2d091d6c18121340dfbb37153f2a7a8cfd0affd8944a69c6c0bf8c20a6719d04d412cc070340b2c386dce4a925740bebfdd7d98b8e7a6a45974e592ef837e62cfdb0440c427cb31cc0de261b34da61c35e4fc8b840c47923822a8f771a3c1594a82d581420386de3ebb7892c424bb454f68d7fd16ba2623bca806d063f13841bb509c3c562cf6188ec56d41ec65e422d40c12fffe827455cd4ec2bcae03370fff37164fa3d07ea136703da569c742383d3463922d19aeaea8129af3d5c5f17531c3230e5ecb85219aa50f07c22abdde2297180d747614c8bfaa0dbf2663a6aa9b1224e8a492eb7ff9a33c7e5e7f420c275e64d700dbabe685abd1630c54b75f240f331a254c901a6883f98693a8c7ff2d9043eb2b62286d1c2b3658170eda641a3f9e571e3a16958202d757e6a0782d936fb228a298cea496944090547d2300d513c1ccb644a16d7555f152ff77a209593a3fc078f44f28a84c14c41b13fc1ef1daf62827806163e48647f05244571afb7cb28d092c5db3a78303a79103d1f571b2fa922f74ca03f2127a7493ccd5dcc03f83bcef5ea3d30820e944004820fa0129618e0c01114be0b8b43f88d633248bd2e4915416c397f83bd3d683f76857ddf852347332a7a229edafb70694c2dc99d12132c3e8a7cc78941edf67d44ae85e951469ee7369fcf0c8fcc111fe18d1cfeb3749e6493f69bf736a1a39e702b25a6ed96bb3d98a1c4a4e23115dfacf8b99727de5c6f47aaf6215ab4a1f5f249d8959e12c4f03bb0bc6f4b87f6fc728e16554d9233c5954c846fbbddf1b2aee327e26874cc7a9b918b351f0535b5f2ea5543a475f777571f061b6b7778f57ef708ba28c7a8e1eb63e20c81d0e5879879e0d23bb293b4e2ab0ac97c30e1cf06ddb2e216319a6db9df36548e1fdcd9ed410d78b7cae074fb45d1bc8b0d66381ab3aaf89e1b89260790626d288422e417982a21700e4b2cfffb3a71676a8e159ff542d1e8d45e6634d24949106824e2d4da2a783764d12c81000bd8b13547c4941e812623dd61f3b817368407c370505c8ee79afdfc929b044adf9aa20314d8051e07eeaf16d8b882b7d9a42c79332eecbf1eedb04ecdadf4c9d5182a398fdda832ad41d6e033a89db25a8c573b3c12b1c324a9a47a4e36060e70adf5f28e48077a4fccf77f5656f14f63c978cd0e2838c4e76e3ecb56b5240a12d135b556fe34f4f0375b56c9f0ee03668f960fe8d20aa5c51dcb94843df2ea952a30ff297b7cdbcd4f2b31acf1c63fe762f6e61e39d9d6c62c482c2f3283f26d19212f8d0b621bfa133ffdbb4bb81d4addbe0ad48b6ef0e48088f32a2cf3789414a648fcc60b82361457bcbb2735e89f4ce6c616198217786e5a14b99681eae51916007ee15b7dc606ee209542b82141c8675add062d7c72810f7f6b8192622df58efe5e6068bbf4ac893d2b54bd5da159d6072527e70e4618ca06020eed84aa0d65dc2385baea35ac55d289a599bd6d08e7ac728389447d8d7c47eba56f678666da736cd2eba52c72ed27bede207dda9333ed0402f2769ced0aeb717be31822ecb64473a58cdcce9e60b0f46de6052f722f8ce1bfef398c997d2ca0b071776f841b4e4fc70ae2bdc17ec9efd8eea71f50d9d9f7c8f71fe92011a72a55305651bc33f689cb3ce4ad1112de73b19d17ab5fc6dfa23c142382ed21b5aff704b0ed9418c56a08dd1e0d92abcf12b9f1130ea83df77c1bcac72ffc510dae405dc78f882ebd92f40bd2a77727cd21eedbded6a75ae328174668fe5bd9e33544cfcb820e22f5145236a72d8d5c91e193d119dd586a9a342da2580df4a7be8d3494cc514eb265595f785dc4d17032279cb4bd18ba1217331216d24fc3d6f1b5f081053ea341c19517f349b95bad3a53f262f11f172277b38389dd12e6d94082572faaca9ad105635d9265c3842cf73855ce40d1aa3eb4ba0fe6f03440afbeb450f1da8f1ede642ec235ca47dace0e4780de2ba9e4f78a18fcadcdc46155a4700e400f63efdf87b783070de032d679d5ba8e4b8ffabd29951180f257906d10382389072afc00eddbe5df3242c36d2c6494db7e339bf82617c2c41f7f5df81fbf0ece014653caf6553a17e38771f1c4060472d70896c6fac730df08a1ce535346d396ba5bba2cb7e294855544cea4ea418064967b6d364ac73fbe802271744b3b54d14d686375706129d83787022e8309b07f27f5fc7133416b8abfd78bcde02ed884cb2e09b88a7d07334cf2807a8df8a10b1669c4fd612b74f64d9e61d1d79bbac6b059cffc08dd0d6aa02bdcfc518d7d13e1102c25c71aa510cb0d8819ccf28e39303bbbe5d4648494b5f1bb58616022efbbd520e1d47a3bc751c32b4582d586fafb1db3561267a0c09be3abe9b71e316a3e908c8ccf438c18633b3af89f3c4154c149c6ce873d04274fa0c6aca72548c8261b4cff993eee6d053e3f48d93c1ac974af0cd76da48cb68596cc5af992e76e3d7ac3a054c48f953edae9139f9dbd1de9a79777c45c4c012dcaf6434a55cddc2bb0ce04822a4cec9408dae0a63e21ae4f1b1d30153d90d4d98a95c8b350d18b8745bd722e38ea3849632a49ee663a90cd3b75802c418dd42fe5c511541ee27d00b6b1d6c99dd97db2384b39d02825ceb797f3c6a9dfeab366bba2c80ecfd1a206e39186bcc6869a73592c1ee165132a605568568542774e2d1cb14c7b85ee6b04c6ed350e9efc0603c781a9c9c8cdae4ec68fa2dde281566646e131387272b438c808c74a5f488c5183b5563aae9a8025abf671855b654d2719e2f87efc0c5c4c5f7d2433aba0e7986b5171b5917825fea12b07ded652e15af76f30ea4a79370b7b3ccfcf8513ab30c8e1a8b13013f6e812914d47fa91c3d88417b85ed7c151ace297eb9bc0fc97964a86ae71842ec66ca49f4c36ae6943a9c029e47b7caf76f9f0dbf57fcfc7e6a691fe67bbe45e16f1a8b679817e55a3100925ff32826dad9fe25e630809376aedf55d3c8b51cca936e828b25b9b1ae6bdb0dba5fdd6500a526b5e89c42bf9bf7452cc6cc1e389482639b82f0943e0072b488affaf0001abc6edb00a827b6c166b0514d3e6021ab57d358fbf37d39fe0d34eaf20e8a14993f1d56391e39240d44876745dbe7ed78aa01840187809cf3857d81d15353f9d8dd9da647cb235201da03c51eaa7eeb43fd82ba43e641b1adb639d3d556869ea7cb2c36e42a2dc5bc827f1e4339a5bd79a3816a59924bfdcca8fab15fb9f041e8f39e5b1781443289c9c97e5f7836ef5c86f4197a79fa95b16d9ded916480d18a264dabfb587197634150d6af136fa03c064f8d200a9cc2fea19105915fa228b8c219444b5988c086225fc2dedf68d4c28f86c9693c33cf2bf4453bfafd301c97be76403bf657c52961cf46021df35721fc8b6ab8a576a050eb0581658fe9861f72f556712b404d4d0f4c49b354846b0edaaa97560208ccbb8abc39edf63e18bafe38adf04afd2009d16748165bfebaed9d53b88566eaf1d3769ee08604f35fea1f358e10bb9d532377084a96eb71cb7cf388a65b892cd4057f8f3080b39d1affb6797213fa67abfb5d4223a10d1cdc067c6550fc1063af8e56f9019cd28e9859b756bfe4fca4c24868aaea193d0ef8f662d3325d87bf9abe3630e271576abf008232f51e03d6e0544e3d7635f8df12984fa966cbcc3187145bb1bd8cddf5ee53c8e66b3d843b766b8d8f3ce4b55e664f2aa19c7f1f03ba78c1da55fa0f8c9cc954cbe9316138472d0a78ef96d8814837170267aa4b1f4b20c79714560b7e87faee84d90cb6ef9f68446bda993a268f677317f933d5f5b387884f3117633dfdb7a632fb942fa2fcda2ee7372c5c4eb341edb574511aad2ae9e861ab5c313d2cb60020167379ea301eb23556b106a0d945a6411619919334ca707df5fba9b177c0c76b6466ee7575f2ab03ea1dd3b007e90862db569251e9ea6702cde17523914bbd1f64c022da5908d2c10f3b9165343f1c8ef7b84fe96f9a074cc6b538dc5d5fe10b4310126884847f9c2297abbbd2fd4cd65d0cd308bed1f61ecfe0d6787a6c4a1993670ca884ab2742bb6f86197a176610ea255d2c58a6de1d65a3b292774b10ec6e1cde16763b9838d6d8a2244cbd42f97c3ef4ed93238a774a0155be21ee56a5cec3806e8ebd4749ffbb72cc17db4a9787250bee85006774141c45d332c424964daea2fa21bf14296f4d9b323922e1750aba85dc93d90147f4ee8ad1747d40e0910bf8a430c32ceb4b550644e95428b83ab23fb9e9d3da3c1784bbc4d556edf5af6b2dc1a0c864142ed2d1d79ef187d810d1848d61474b4e3123fdaf953d4240b04c0fb5628a86542e1e28b27a1cb04175acc5e8ad2c8544112f23d97a93655202b094a0cd33309b011172220e8feca31ceb90013613a2d728c0e955c9174a890fa899d0b1cb163cc84b03fabbb44f12e5ffd62c04f6b6aacb1a94b7501bd19b7f969f6ce021e348a89aabd241fa23c7b2a7b27ec68716c02bae3562c6b1b73d8f070681c3bba2a12a56c9cde8714dfb061079fc234f29fc320f2e59445bb571ce2cb542296e0e2a604ef7508f76c252ffa494072c8721dc1dbcfaf43349c303b054f134b179a5952745b47eda883c7f102ee80924370f5056ccec136e416ab5237495f2ae41857bf6f9ef472da1ee95bbf281014f7bd8a8c824a7c8143cb1d33dfd6877ef23a269010c9cb484cccde497df5eaf7fce5906e6b30733fb1282e2d6caea884dac3b156ce73e6f33fe056f9d0eeb5e055eeddb1f56b74e59c079fce60d14fde6a1e70dbca978d636a96558b29dde242bce9f04545b3b31e5fbec9ad0baac947871a4d3dbef29df917e6544b6f5fb4443360e326e45b22a6dab7ae1a658b35d8cc057435562d0597b3c9377dc32ff74d41640e0ecd11b5e982e4b7a055f46b0911557619ee46495d780d4f6f959a152b49e7198c782b69f78768cdfb08865dfbd35748c2fc309fe397035d63ce9907052d8ad76d42688f97753930760598b86564c0f0eeb933ba441d476841bd7fe45798a75c3933dce9e586aee8ef95d51e21d143dd71225554dac132963a5f2a2540d86aa00a649c4b3fde44f81d5bab96738643ef3beb33cfb672d054dfec4c24e89a9809639ba10fbf77e350d6077699f13d589928b3b49837ee8490937280502420f643c7b8e3a68fa8ab9285632fbe4f8ae5a94b448198b0dd2d7529b7d22b48d5df8c1f789becf6ce5603842e1b230826afc649d65b4ff4eaa121debef079a327d9a04104ca54cc89b54081110bc7427feaf45ec3de4e2517ff85d599f3b8d04717bf7bfd8361c1919c0c358989283f6dece48e131de241dceadeb99f3cda27c9cefdbf39c4e4faa9b782ccddb8da9f6f24fd340f539229f7cab5f7f84584b708a52db1704b8a9301396d390a2390f22e37aa436fbccaa674565aa1c7c43a1bcc21e8ec930ce0c2f248b1709e9746179fc8dde8b06474c718fc0a2a6b55d42e4df3cfc3e80d43b3f9af6f50aca3601bed8b5600b030f7271a6ee59fa5648154d9fb3e372ef53ac2b89ee59a6f82e0a2ace51149e253da612e390bc893cd2b13912709ae6009aefb845b74b3b0395c5ea732320ef23aecab30b149fd1ee38fca59d1c0ef27721c900c43389767e4e6f231c7547c546b7a2f66915d65c508950fbf881f6a7a70af2979093b9a76f961b4e4debb8d2912f6fd614fc7b12ca9e27976cf1b781299edeef89e70b9ee9290176fb8631645677ae6f211001859f252a0c7a24fd2f318287cd8478f249af08ca8aa026496f9a37195784262c569c14ba6ad185b30ad979cd4754d2ed42a06f35df6ad42dcc4cf7f99c62212d8433ef6029f778c04ba32760c19c602741844a2ee2b44c908ede5308da41688f93da259e55fc585052fb3ed3f7f25f5f950fa320507024a0133336a8b74e59e473de0653b24f2ce1116f9631035ff6a0ca8d0bc517ae394d678ac44368f886261c1acdc383a1b364e97cf6d845b6d4aa29a5380d45ad831852528643fc01b8d80883203804af3e841dc67c0525f449d50ebf900bc0e1c479c6779f1cc7d4de8f891521cc4758740d5f022d8da4e991bbbee61ce5c9bb6cee4f9589ce69ff3425956c636661ee57eb3efeec05ae9f8bac23d8af5bd40d1d14fc021493329911e1b03f658996c56c51761a42bf2328a12c4f95b608ac9476c04d40d9d2a522fe0a2c22cdd6f41c7389d302af2d1413c50af00e5e0ce0ae1c34cf1354fd59c30055ed52e52caa3b6da832d0ff211e5b3e861dac7a56651d412cd3ff33997c8f60c21e93e9d54bb1016d6675bd5ed56648098dee199b2ece1f685db5c811a7cdfc0c4115847d3333edbeaa8c506096fb15c9eba3330f573b2d06bdb26731a6d746cfccff3454192062ff0f87560bfd819ed6bf97a1ada4da935da6e3b3b06ef395d51479752b786695b918942dd78d1edf71ad55ec4b6d2d78c637efc30dfec7318b377a8472c66f71fee25b1fe622e6c4aae8f5a571656684ca810ff92859a2aa729171d6794658855457e43a661a53e70f972e0af38f8f54fa1e2bc98d54d51e31fc57371053e1a5728b603fb0e6eab35841f97ca9ab2d47bd65a5dec90cc58da2edc44c8c77538e2884acfd82e86495d3c9daa9a7ae2291c6f5af645332d73b51b48edb90f38752d706eeef6f9021453b6a3c505941b36bc8f70592d3aa435c7c1f4b9ab297050818bd48c9041d4cab20f4dea04d5a4428a2e60d113ab68577b58d2d9a0f9d6bb7033d2829208df12fa70c775ad2d32f39b7dbb56c669670eb8afbea34c2af7f72a220b2b944fd2e22c6836567d08029aa58397a4e5dfcbe143d1e765c62272f29c6df38c695d3bd94f7eee98f6b9741d546257069fdebd7ee016e4d98b7a5c634a65455b32b5fe3e58b64dcd8e8ff28f36dd8f4f47e84e4e03e3a864f03e0429b20e895dcb2bc3f27dbf7d9e43b37e6d60b48bc490b1bd11b2e836a5d640188c87566699e5968657a2947335ee867b5e40675c962d559af301b481178f4bd7c6ea5a39154ab2f4157f69bb3150c883a38dcadb2d0110c2b4624d62a73cb4f71761a2f5b6e9758a8a1b4d8a8716cef28a38da2052b315862ba2d9c13d26df65dda3a41c0f7acc97b7aff73f151a7e4619caf78c6aa7d8991ba50a240c805af2c35c0e8b4835e14382c75dadf81d149b0ba299e4448e2330c8eea123d6d5c40e4bae39f0b70d65cea830e546f009fada3a9d86dbfe64defea5c268ded8b17e8d1ba5552e8cb28039122681ce0da221ada485375090900086e8c806e9c44ec7968504f670f9a536628249f14ecf44dd795053fbf1b75ea10f306932783e691099b113d094e521ce063c8916f7f0ad86400c73061a166a7d4c23e6f7784e333f838501f881f07f09cde9082ca75e04e3a41545500cde519cd6f13d82fcf5d04a46046b212794589cb9e705f2b31bc2356936cbfe477e50778227bf9c506983530639d8f2fdd13631620f761227e56be3bc634dcb16c86ec785aa41204c4736d4aa85e6b6ff68bcb3bdb552b1e774d12291ee3755dad2fbbb861db0d078e76295cfef59fb30d9d077d4f2c88d2f36f329b6ac29b1bb14fadbb78e887c6ee5b642685fcaa9c531533ef3e5c33dcdedaaafeb531cc2d2768fe42f45b3f512e8e37456486cff77d12213b1d6e5dc47feceb30fcd5c378416518d7eeb15d9b29e1036bca3158cb7068291ced25022dc9c18f9b52978e424cb3bf43a2b3062ded3f3d0f355d44b09fe0cb473e63d5725daaa61c9744478f4e6ff44248a35e8204988c2ba1406d74429178b21335eef166e59b58c22b77e3408b8a1f3db48561857e80b8a7c8bee4df89c51d54aa6eef3c1ae207295daa4f43a010b5f7f2ad8fa3d0cdd9e8705f95e495348b68147be7862dd8c0ff06b2c004beccb6d0f4d8cb1968725e6dd84b0367abbe209b24ad2f536079a817a04af52aa3be25d612b992ea476173ddc550456fb22ff3b84c3605acb083820f07ceb0e272b9086bcbf5c6b13a69e53cd0b26f5c3eab8562e2c9a3077209ce6940596cf56eff6e6699f01c86ca499e7823b54b8e704ad3f6677d0998423fe4cdce33261cb355c2f7030d0bb77335d08dd774002c7e0a5825fdc06a2a5f18ca3aaeb66672ed816b2af2df7e549835898c862037bbfed43956c72ba7a8a27beac51c0a4305bb760270509d148a48c9a6a7bd729f9e8688152dec9b1bdb02db3b43ebad0aa6adf4efba7422ee2f6573e3a2ae57fbf8a1d5cd7e9099b5be32d7177eb8a6094795cc5297e5ed42c01abb468dc5197f608f4c3ae3b8f82eee6a31fce9a92a83023d2d2111db3ababe84c024211161b03d5787963bee5c7be3c85ba09bd02c6b5efddc4800fa90fd9ad8a03b0d3e9ab545bf613fe0959da9004ea4b0881bdae9a15849f28005a905eedc6c788c6a8978601d19009635d5603b8365f07006e738853d2d0f3442f062e3a99b38c7e5583673fb4e204e547b6e73571624ab9c86be3b3aca78c5b41f53cd7cba6b1e7a8cb85cb04235f45f303f37e729ae056056add63f3605d1838f875fb8072dd4bf27605b2f73c7ab2dbc226e2c2a5c46f690e4f1d18a8f3c96b36e352c3c923c255039e45d119d29a37cb9edc54bce1eae46f20ca46ce575e756da47f73172fe2d8244aea756cd77ecdc7a53edc0240968905bfac947d8b9407a6ba2bc12091dd8d5bfa1bc3fc53216568505cc11db6e2abde29ab652ba27de0a8ac4800bcc2384a98aadf2a3b5a2da4811248ab4a923978c49f92f73451012988b5896026676f9429c7d7d5475acd8f37ce2d0bd1d5cea999a1f682844424dc633d631ba7761d7be5597d9b190751256b797ad092f7f7bb6e136ee733b83c06d851c81e32d3b6621793ef1e6d874f7891cada3c08ff432c1f3495a5a3af4cb7f311bc1290ca432d750317b26e716f1866433b5db6f6fbcde8678a466575954ade214ce35e05b93b04b2b1a1f0219b24c1dc915145d292b487c267dfccd31338bb1f7e0737e662430cd99628f98613d1d795ac1eb91460d759662a0a6a03e8cd8fb29f7463a12fe996fa5fecf597fb9981cebfab73c5941e7a792b40d0779e47310a865330f71b99567eebfb2f8f8acf02c25562303ce47357d46678b61cdf9fbf76169184f8691ea26b2864310d6419b28ff9185662eedd21946306d5e5825dfe5b0665cf93e01e6ecd4a86a81f0e919865f776853d376f884e2eb12aac6738e14d9ed2024648b0cb302eaad5540cee64f46ec6c117fc2a36936f8b90f8b17e575889d85a790c614e553fd22495b4830772ce19826967f3de8c3d424ed1d98acf3ae5ac775335972d9046883454316bb1a58599c231a44ac92b5c376e0832d1583e2c842482647380888f509607803cd43b7b41050745687aba2d878a88578f7d06c0245c5b0881870b9ff946d8f93c023132e5d9c8a88f002f257053b04a7fca78b744051c4c01920ec4188592b6be8a910cbc0ac89ae2b7629eddba70e2186a6f038a57f4c585d7ffce3733d4692bd871e779dc58a4f61a0c61b27925f8fb8458250318378ae95f9c2e7da4b3f524282e85bec4252903310cf05b11502bf9621b7d177ab474265e461396e01e678e9da07ae85f489321f04afe3ab183ddf7e97e368e36a93a4b147537cd94f6e9c26f3a7b2d8939fea05a4f9a72dcd3cac91f54cd7d5f0724a1aa5948dc4bd70f7400457a5fc13354f12d0646d84f851d48cef22e3ac66679658b5c861bd2b3d2bbe34ed305ae56a519efdc8fb1112024450090ec2c0252c71b6fdea050e572f6da7ac1b5cb74930612b1503193b3fb494e81968dda828aeb4f8c879edbfa7f266ee64a4380c9732cfb52d99d8e2001b4298632ad8aba76ab9e767e9beeb93d6e3d65a8a5f79a70f4e902db8536581fe0ae83f5b9b0ef659702a9e481ec63ebd93642c437187e0403a4176e835b3e74d6949ebe8764a40f0c669226cd24ada6cc61f1dcfea8d8083c0c8c1cc15af657bd434a5384ff59ba9d91d08d172b35f200f99836524a558beb88b8d02d8a6d49e0c4f65277846eace939ed922b89336e0a85a95f01aabb389d35efeb16b5f0b3b170ff8fb924b09a6f3393bcc22681a859586b11b4b95cb433b443ac3b8ad62afc37c433e4a8383dd81c76bc121ba585cf5e2402ca6ba2475fbd8ed7a60d2a7af2796342e648f0240359d8ff88a672c24febfcd566a2798d3db3e30edf4fbf9778bd6c50c1b082c726a1c677671facdd65d876eaf241e01022db82c2c65c3809049d54fe528defb2b03f769ac8995b2c13a544292967a5862ba820f1a45c4b51137f79479cef87404d0d113fb958a3b610bb318627aa14d91737ea540cbba84350a2258d3e2a3d9678f2e3277c022407cc24ef5ebc601ff3a221223fd25ab8ebc3072950e149c97985a06b62d3c0c1dfc7b2f403124912ee43fa02bc552f55893726adaed5536941e9c57b9bfff61ac6d0d79e22f90a58eb306baf488e7e6cad0aefa4b6c90a1d3ef454913f43d50df7987f2bc6a320f922f4983f8218a9e64c14c4f3ca4cf9d25182b772f2c225a94a2d145ce3f4d5a6913c5bc11f67cb31c0d24606835fb08e0df077c28f22dfa2a7eba5f38c45954fddc87096e76a3761a86b597c16957e5a25a498b2ebc227481da669b9e7ac12f9d51f1a4e7676303677ad70b89926568996c8400d502e5f34af374839dc44cb3c6afaba999752b87d28d9c0d40cad6a54b38bf11fa17055fac089a69a01edc5f5a3532218a4e8d28eaab3c69b5558f6b1073f7321b36a3075d0c2c43d7a5eed4b165bf32092a38b1dcd8445d32461225987d8c6029147d4dd08b9a4bc449010feacd18b393e05bbdec076bc61b66c654f1835e2c2823685c400facd1a7eb13d56ce4eaac595be91a0d89b137fd243fdbc8cb53d8ac41a0d02824e42ce8a36d1a6abf0a2d92ff6c9a95ca728df19b9d4318a059a73fa0ef238148d396a884ccfd8ad81d4253d2a1aa46243736d5270ca9d387fabeaf181f30c3ed221b14f35f7d9357badb2687c24195cc655e00bc35310a1f13f0b84531529df1fa03ff4b1f9730e94f481d73893c89d862d4f57fb33228340bca6010bfe9fb0dd6a86759ed0fe29dc36e7a33cfefc16f483fa72f5d4b56c39281d302f8b29d31b5597fa2dfad626f21b1deecabf33e0c2ca14dc36d7be61cdd4aeb4dd93108c2e0a4af4190b27e00d2f4a6ec44e2af3d6919749cd3b2192e087dfa1dd98b9b7955f2c9e823e1480efeed1af929bdfc9e01fdb19631bc5a2b5e042ffb4155c8ffb692103f38b0a74aa32b3141b704de5926cc6099605c3a881f21d891b9c9de123e67a263516a1b2684a73a349b9defebb5dfd6de7532c34e55807f252a12a19bf18596b60fba5f0cb2a563edd5cd4ac5dbf179868f080f3f59c458a4b8a08c3df94151502321ba2888355d7e29e989049aa0d8a37505fda1cb4f6105c23b5003ddb09dff575fd8db0b19198a7021725d40a4c7dc5f3a1d1872604f544e63a019acbdf768ee9b16ddba1919fa0c156c945d240150c7db91b9fdd597a9b5dbd8942257e22ba6e9933548e22b44379185a120bdf093a87b96739f380493852eeaca37665eb3586e6a67c2523759d54ca56f2395577a890a96c44d79afe0748ffa4400bb068eafe37ccf699213e7d6f28bee1cdb3000ac842f3c0f129a8e4d427dd4f3b251dbbcbd3ecb19c4ee3ee2dba973959607c8120251130a669362dfaef0d4459786d23c68dd5d09511a0168f784b1b7031ce93aa65934ab86df0e6ff3b5259e7dcab4a5c05b2bd8de8a819d48c20770636a84c3ff56132108fe290266e64dfec5aed8c26d1053dd9f80f3fb5400140c541e6c7ff1f50e9dc1675f7311658639fbfd913e9f82360bcaac1134d0a196a0eee127dadabbd11d2ab0d397118f175ed4347cd7a1d4039f31369da38ee6f7ffd51beb693991b276d534a9490ba1c7e1b10658d4fb507419eceac50d2474cb1cba69221ae6cbac88fd31233457b0557b44f6fc6f70993130543e76379dce1ae15c08f23ba282c97e63172ab92fb3137dcdcff12228a0ee823660b78a083ffa4ed21dcb1694ab84773457693cf4c5a57f75f65ea979b719f40755db9c60225fef820d76989567d34d73ec644556b874d46c75fcd0e507a44aa23a20321e6a61913ee91827bbde745cd68c22701b8b0625c191294d16885e</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">当前文章暂不对外可见，请输入密码后查看！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Taichi </tag>
            
            <tag> private </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冲击过程中波系图数据获取教程</title>
      <link href="/2022/09/01/chong-ji-guo-cheng-zhong-bo-xi-tu-shu-ju-huo-qu-jiao-cheng/"/>
      <url>/2022/09/01/chong-ji-guo-cheng-zhong-bo-xi-tu-shu-ju-huo-qu-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><p>分析冲击波在固体内部的传播有利于研究冲击波的作用以及材料的层裂强度，分子动力学中可以获取每一时刻的冲击波波形，包括其温度，压力，速度等信息，将所有时刻的波形压缩到一张图上，可以直观看出冲击波的传播状况以及分析材料的破坏情况。</p><h2 id="数据获取"><a href="#数据获取" class="headerlink" title="数据获取"></a>数据获取</h2><ol><li>导入必要的库 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> pyAnalysis.binning.one_binning <span class="keyword">import</span> OneBinning</span><br><span class="line"><span class="keyword">from</span> pyAnalysis <span class="keyword">import</span> core</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br></pre></td></tr></table></figure></li><li>计算所有时刻的波形 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getbin</span>(<span class="params">path, namelist, atype, outpath</span>):</span><br><span class="line">    <span class="keyword">if</span> atype == <span class="string">&#x27;Ni&#x27;</span>:</span><br><span class="line">        amass = [<span class="number">58.693400</span>]</span><br><span class="line">    <span class="keyword">elif</span> atype == <span class="string">&#x27;GraNi&#x27;</span>:</span><br><span class="line">        amass = [<span class="number">58.693400</span>, <span class="number">12.010700</span>]</span><br><span class="line">    rc = <span class="number">5.0</span></span><br><span class="line">    units = <span class="string">&#x27;metal&#x27;</span></span><br><span class="line">    max_neigh = <span class="number">50</span></span><br><span class="line">    num_threads = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> namelist:</span><br><span class="line">        filename = path + name</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;Calulating <span class="subst">&#123;filename&#125;</span>... Process id: <span class="subst">&#123;multiprocessing.current_process().name&#125;</span>&#x27;</span>)</span><br><span class="line">        system = core.build_system(filename, amass, rc, units, max_neigh, num_threads)</span><br><span class="line">        data = OneBinning(system.data, <span class="string">&#x27;x&#x27;</span>, <span class="number">5.0</span>, [<span class="string">&#x27;vx&#x27;</span>,<span class="string">&#x27;v_px&#x27;</span>])</span><br><span class="line">        data.to_csv(outpath+<span class="string">f&#x27;<span class="subst">&#123;name[:-<span class="number">5</span>]&#125;</span>.txt&#x27;</span>,sep=<span class="string">&#x27; &#x27;</span>,index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></li><li>将计算后的结果映射到二维矩阵 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getmatrix</span>(<span class="params">path, dump_list, interval=<span class="number">0.5</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Transform 1D to 2D matrix...&#x27;</span>)</span><br><span class="line">    row = <span class="built_in">len</span>(dump_list)</span><br><span class="line">    left = []</span><br><span class="line">    right = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">        data = np.loadtxt(path+<span class="string">f&#x27;<span class="subst">&#123;dump_list[i][:-<span class="number">5</span>]&#125;</span>.txt&#x27;</span>,skiprows=<span class="number">1</span>)</span><br><span class="line">        left.append(data[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">        right.append(data[-<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line">    col = <span class="built_in">int</span>((<span class="built_in">max</span>(right) - <span class="built_in">min</span>(left)) / interval) </span><br><span class="line">    space = <span class="built_in">int</span>(<span class="number">0.05</span>*col)</span><br><span class="line">    col += <span class="number">2</span> * space</span><br><span class="line">    lx = <span class="built_in">min</span>(left)</span><br><span class="line">    ve = np.zeros((row, col))</span><br><span class="line">    px = np.zeros((row, col))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tian</span>(<span class="params">s, v, colindex, interval</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(colindex)-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> colindex[i+<span class="number">1</span>] - colindex[i] &lt; (<span class="number">5</span>+<span class="number">1</span>)/interval:</span><br><span class="line">                s[colindex[i]:colindex[i+<span class="number">1</span>]] = v[i]</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">        data = np.loadtxt(path+<span class="string">f&#x27;<span class="subst">&#123;dump_list[i][:-<span class="number">5</span>]&#125;</span>.txt&#x27;</span>,skiprows=<span class="number">1</span>)</span><br><span class="line">        colindex = ((data[:,<span class="number">0</span>] - lx) / interval + space).astype(<span class="built_in">int</span>)</span><br><span class="line">        v = data[:,<span class="number">2</span>]</span><br><span class="line">        p = data[:,<span class="number">3</span>]</span><br><span class="line">        ve[i,:] = tian(ve[i,:], v, colindex, interval)</span><br><span class="line">        px[i,:] = tian(px[i,:], p, colindex, interval)</span><br><span class="line">    np.savetxt(path+<span class="string">&#x27;ve.txt&#x27;</span>, ve, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    np.savetxt(path+<span class="string">&#x27;px.txt&#x27;</span>, px, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure></li><li>并行化计算<br>为了提高计算效率，对于文件读取计算采用并行化处理，这样计算瓶颈主要体现在内存以及硬盘的读写，计算本身消耗的时间占比很小。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_dump_list</span>(<span class="params">path</span>):</span><br><span class="line">    file_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">        <span class="keyword">if</span> os.path.splitext(i)[<span class="number">1</span>] == <span class="string">&#x27;.dump&#x27;</span> <span class="keyword">and</span> i[:<span class="number">6</span>] == <span class="string">&#x27;impact&#x27;</span>:</span><br><span class="line">            file_list.append(i)</span><br><span class="line">    file_list = np.array(file_list)</span><br><span class="line">    step = np.array([i.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> file_list], dtype=<span class="built_in">int</span>)</span><br><span class="line">    file_list = file_list[np.argsort(step)]</span><br><span class="line">    <span class="keyword">return</span> file_list.tolist()</span><br><span class="line"></span><br><span class="line">path = <span class="string">r&#x27;F:/archive/GraNi/700m/&#x27;</span></span><br><span class="line">outpath = <span class="string">r&#x27;./GraNi/700m/&#x27;</span></span><br><span class="line">atype = <span class="string">&#x27;GraNi&#x27;</span></span><br><span class="line">os.makedirs(outpath,exist_ok=<span class="literal">True</span>)</span><br><span class="line">dump_list = get_dump_list(path)</span><br><span class="line">num_process = <span class="number">10</span> <span class="comment">#进程数目</span></span><br><span class="line">interval = <span class="built_in">int</span>(np.ceil(<span class="built_in">len</span>(dump_list)/num_process))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    start = time.time()</span><br><span class="line">    processes = []</span><br><span class="line">    <span class="keyword">for</span> proc <span class="keyword">in</span> <span class="built_in">range</span>(num_process):</span><br><span class="line">        processes.append(Process(target=getbin,</span><br><span class="line">        args=(path, dump_list[proc*interval:<span class="built_in">min</span>(proc*interval+interval, <span class="built_in">len</span>(dump_list))], atype, outpath)</span><br><span class="line">        ))</span><br><span class="line">    <span class="keyword">for</span> process <span class="keyword">in</span> processes:</span><br><span class="line">        process.start()</span><br><span class="line">    <span class="keyword">for</span> process <span class="keyword">in</span> processes:  </span><br><span class="line">        process.join()</span><br><span class="line"></span><br><span class="line">    end = time.time()</span><br><span class="line">    getmatrix(outpath, dump_list, interval=<span class="number">0.5</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;All done! Time costs <span class="subst">&#123;end-start&#125;</span> s.&quot;</span>)</span><br></pre></td></tr></table></figure></li><li>一个纯Ni的冲击结果如下<br><img src="https://img.pterclub.com/images/2022/09/01/750m-ve.png" width="80%" alt="纯Ni速度波系图"></li></ol><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>通过以上步骤可以获得初始数据，下一节会讲如何可视化波系图结果。</p>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我和香菇烧这些年甜蜜生活</title>
      <link href="/2022/08/29/wo-he-xiang-gu-shao-zhe-xie-nian-tian-mi-sheng-huo/"/>
      <url>/2022/08/29/wo-he-xiang-gu-shao-zhe-xie-nian-tian-mi-sheng-huo/</url>
      
        <content type="html"><![CDATA[<h2 id="先挖个坑"><a href="#先挖个坑" class="headerlink" title="先挖个坑"></a>先挖个坑</h2><ul><li>之后慢慢记录和宝贝的点点滴滴，嘿嘿！</li></ul>]]></content>
      
      
      <categories>
          
          <category> 恋爱生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Love </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu下并行版本Lammps安装</title>
      <link href="/2022/08/29/ubuntu-xia-bing-xing-ban-ben-lammps-an-zhuang/"/>
      <url>/2022/08/29/ubuntu-xia-bing-xing-ban-ben-lammps-an-zhuang/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 软件安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分子动力学 </tag>
            
            <tag> Lammps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib绘图模板</title>
      <link href="/2022/08/29/matplotlib-hui-tu-mo-ban/"/>
      <url>/2022/08/29/matplotlib-hui-tu-mo-ban/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 科研绘图 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>氦泡在氚化钛中的建模</title>
      <link href="/2022/08/24/hai-pao-zai-chuan-hua-tai-zhong-de-jian-mo/"/>
      <url>/2022/08/24/hai-pao-zai-chuan-hua-tai-zhong-de-jian-mo/</url>
      
        <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><p>钛是一种良好的储氢元素,也可以用来储存氚(氢的同位素),在核物理领域应用十分广泛,但是氚会衰变生成氦元素,这些氦原子在氚化钛晶体中会逐渐聚集形成氦泡,并最终影响基体的力学性质，也就是材料的老化，为了研究其微观性质，我们建立了氚化钛中含氦泡的模型。</p><h2 id="建模过程"><a href="#建模过程" class="headerlink" title="建模过程"></a>建模过程</h2><ol><li>基础晶体建模，这里在每一个钛晶胞中添加一个氚原子。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bulid_structure</span>(<span class="params">Lattice_Constant, Structure_Type, x, y, z</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    该函数用于创建常见金属晶体结构！</span></span><br><span class="line"><span class="string">    :param Lattice_Constant: 晶格常数</span></span><br><span class="line"><span class="string">    :param Structure_Type: 金属晶体结构：FCC, BCC, HCP</span></span><br><span class="line"><span class="string">    :param x: x方向拓展个数</span></span><br><span class="line"><span class="string">    :param y: y方向拓展个数</span></span><br><span class="line"><span class="string">    :param z: z方向拓展个数</span></span><br><span class="line"><span class="string">    :return: 原子坐标 N-3 array</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> Structure_Type == <span class="string">&#x27;FCC&#x27;</span>:</span><br><span class="line">        <span class="comment"># Cubic FCC basis</span></span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.0</span>, <span class="number">0.5</span>],</span><br><span class="line">                            [<span class="number">0.0</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;HTi&#x27;</span>:</span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, np.sqrt(<span class="number">3</span>) * <span class="number">5</span> / <span class="number">6</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)],</span><br><span class="line">                            [<span class="number">0.0</span>, <span class="number">1</span> / <span class="number">3</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)],</span><br><span class="line">                            [<span class="number">0.25</span>, np.sqrt(<span class="number">3</span>) * <span class="number">5</span> / <span class="number">12</span>, <span class="number">1</span> / <span class="number">4</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line">        </span><br><span class="line">        atype = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">        positions = []</span><br><span class="line">        atypelist = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(z):</span><br><span class="line">                    base_position = np.array([i, j, k], dtype=<span class="built_in">float</span>)</span><br><span class="line">                    cart_position = np.dot(basis, base_position)</span><br><span class="line">                    atypelist += atype</span><br><span class="line">                    <span class="keyword">for</span> atom <span class="keyword">in</span> base_atoms:</span><br><span class="line">                        positions.append(cart_position + atom)</span><br><span class="line"></span><br><span class="line">        positions = np.array(positions)</span><br><span class="line">        atypelist = np.array(atypelist)</span><br><span class="line">        <span class="keyword">return</span> positions, atypelist</span><br><span class="line"></span><br><span class="line">    positions = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(z):</span><br><span class="line">                base_position = np.array([i, j, k])</span><br><span class="line">                cart_position = np.inner(basis.T, base_position)</span><br><span class="line">                <span class="keyword">for</span> atom <span class="keyword">in</span> base_atoms:</span><br><span class="line">                    positions.append(cart_position + atom)</span><br><span class="line">    <span class="keyword">return</span> np.array(positions)</span><br></pre></td></tr></table></figure></li><li>加入单个氦泡 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">onevoidHeTiH</span>(<span class="params">R=<span class="number">250</span>, Lbox=<span class="number">520</span>, L_HTi=<span class="number">2.9511</span>, L_He=<span class="number">2.98</span></span>):</span><br><span class="line">    x, y, z = np.<span class="built_in">round</span>(Lbox / np.array([<span class="number">1</span>, np.sqrt(<span class="number">3</span>), np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]) / L_HTi).astype(<span class="built_in">int</span>)</span><br><span class="line">    HTi, HTi_Type = bulid_structure(L_HTi, <span class="string">&#x27;HTi&#x27;</span>, x, y, z)</span><br><span class="line">    HTi -= np.mean(HTi, axis=<span class="number">0</span>)</span><br><span class="line">    index = np.where(HTi_Type==<span class="number">2</span>)[<span class="number">0</span>]</span><br><span class="line">    N = <span class="built_in">len</span>(index)</span><br><span class="line">    np.random.seed(<span class="number">1000</span>)</span><br><span class="line">    index1 = np.random.choice(index, size = <span class="built_in">int</span>(<span class="number">0.95</span>*N), replace=<span class="literal">False</span>)</span><br><span class="line">    select = np.ones(<span class="built_in">len</span>(HTi), dtype=<span class="built_in">bool</span>)</span><br><span class="line">    select[index1] = <span class="literal">False</span></span><br><span class="line">    HTi = HTi[select]</span><br><span class="line">    HTi_Type = HTi_Type[select]</span><br><span class="line">    HeM = bulid_structure(L_He, <span class="string">&#x27;FCC&#x27;</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">    HeM -= np.mean(HeM, axis=<span class="number">0</span>)</span><br><span class="line">    HeM = HeM[np.<span class="built_in">sum</span>(np.square(HeM), axis=<span class="number">1</span>) &lt; R**<span class="number">2</span>]</span><br><span class="line">    void = np.<span class="built_in">sum</span>(np.square(HTi), axis=<span class="number">1</span>) &gt; R**<span class="number">2</span></span><br><span class="line">    HTi = HTi[void]</span><br><span class="line">    HTi_Type = HTi_Type[void]</span><br><span class="line">    positions = np.r_[HTi, HeM]</span><br><span class="line">    atypelist = HTi_Type.tolist() + [<span class="number">3</span>]*<span class="built_in">len</span>(HeM)</span><br><span class="line">    ratio = np.<span class="built_in">round</span>(<span class="built_in">len</span>(HeM) / <span class="built_in">len</span>(HTi_Type[HTi_Type==<span class="number">1</span>]), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;H-Ti-<span class="subst">&#123;Lbox&#125;</span>-<span class="subst">&#123;L_He&#125;</span>-<span class="subst">&#123;R&#125;</span>-<span class="subst">&#123;ratio&#125;</span>.data&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># First line is a comment line</span></span><br><span class="line">        op.write(<span class="string">&#x27;HTi structure, written by HerrWu\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; atoms\n&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(positions)))</span><br><span class="line">        op.write(<span class="string">&#x27;3 atom types\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; xlo xhi\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">0</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">0</span>].<span class="built_in">min</span>() + x * L_HTi * <span class="number">1.0</span>))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; ylo yhi\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">1</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">1</span>].<span class="built_in">min</span>() + y * L_HTi * np.sqrt(<span class="number">3</span>)))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; zlo zhi\n\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">2</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">2</span>].<span class="built_in">min</span>() + z * L_HTi * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Atoms section</span></span><br><span class="line">        op.write(<span class="string">&#x27;Atoms\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Write each Position</span></span><br><span class="line">        <span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(positions):</span><br><span class="line">            op.write(<span class="string">f&#x27;<span class="subst">&#123;idx+<span class="number">1</span>&#125;</span> <span class="subst">&#123;atypelist[idx]&#125;</span> <span class="subst">&#123;i[<span class="number">0</span>]&#125;</span> <span class="subst">&#123;i[<span class="number">1</span>]&#125;</span> <span class="subst">&#123;i[<span class="number">2</span>]&#125;</span>\n&#x27;</span>)</span><br><span class="line">onevoidHeTiH(R=<span class="number">250</span>, Lbox=<span class="number">550</span>, L_HTi=<span class="number">2.9511</span>, L_He=<span class="number">5.75</span>)</span><br></pre></td></tr></table></figure> 结果如下：<br> <img src="https://img.pterclub.com/images/2022/08/24/1void-ti.png" width="40%" alt="单个氦泡刨面图" border="0"></li><li>加入多个氦泡 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">numvoidHeTiH</span>(<span class="params">nvoid, R=<span class="number">10</span>, Lbox=<span class="number">100</span>, L_HTi=<span class="number">2.9511</span>, L_He=<span class="number">2.98</span></span>):</span><br><span class="line">    x, y, z = np.<span class="built_in">round</span>(Lbox / np.array([<span class="number">1</span>, np.sqrt(<span class="number">3</span>), np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]) / L_HTi).astype(<span class="built_in">int</span>)</span><br><span class="line">    HTi, HTi_Type = bulid_structure(L_HTi, <span class="string">&#x27;HTi&#x27;</span>, x, y, z)</span><br><span class="line">    HTi -= np.mean(HTi, axis=<span class="number">0</span>)</span><br><span class="line">    index = np.where(HTi_Type==<span class="number">2</span>)[<span class="number">0</span>]</span><br><span class="line">    N = <span class="built_in">len</span>(index)</span><br><span class="line">    index1 = np.random.choice(index, size = <span class="built_in">int</span>(<span class="number">0.95</span>*N), replace=<span class="literal">False</span>)</span><br><span class="line">    select = np.ones(<span class="built_in">len</span>(HTi), dtype=<span class="built_in">bool</span>)</span><br><span class="line">    select[index1] = <span class="literal">False</span></span><br><span class="line">    HTi = HTi[select]</span><br><span class="line">    HTi_Type = HTi_Type[select]</span><br><span class="line">    </span><br><span class="line">    HeM = bulid_structure(L_He, <span class="string">&#x27;FCC&#x27;</span>, <span class="number">80</span>, <span class="number">80</span>, <span class="number">80</span>)</span><br><span class="line">    HeM -= np.mean(HeM, axis=<span class="number">0</span>)</span><br><span class="line">    void = np.ones(<span class="built_in">len</span>(HTi), dtype=<span class="built_in">bool</span>)</span><br><span class="line">    HeMpos = []</span><br><span class="line">    <span class="built_in">print</span>(np.random.randint(-<span class="number">30</span>, <span class="number">30</span>, size=(nvoid, <span class="number">3</span>)))</span><br><span class="line">    <span class="keyword">for</span> coma <span class="keyword">in</span> np.random.randint(-<span class="number">30</span>, <span class="number">30</span>, size=(nvoid, <span class="number">3</span>)):</span><br><span class="line">        void = np.logical_and(void, (np.<span class="built_in">sum</span>(np.square(HTi - coma), axis=<span class="number">1</span>) &gt; R**<span class="number">2</span>))</span><br><span class="line">        hp = HeM.copy()</span><br><span class="line">        hp = hp[np.<span class="built_in">sum</span>(np.square(hp), axis=<span class="number">1</span>) &lt; R**<span class="number">2</span>]</span><br><span class="line">        hp += coma</span><br><span class="line">        HeMpos.append(hp)</span><br><span class="line">    HeMpos = np.vstack(HeMpos)</span><br><span class="line"></span><br><span class="line">    HTi = HTi[void]</span><br><span class="line">    HTi_Type = HTi_Type[void]</span><br><span class="line"></span><br><span class="line">    positions = np.r_[HTi, HeMpos]</span><br><span class="line">    atypelist = HTi_Type.tolist() + [<span class="number">3</span>]*<span class="built_in">len</span>(HeMpos)</span><br><span class="line">    ratio = np.<span class="built_in">round</span>(<span class="built_in">len</span>(HeMpos) / <span class="built_in">len</span>(HTi_Type[HTi_Type==<span class="number">1</span>]), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;H-Ti-<span class="subst">&#123;Lbox&#125;</span>-<span class="subst">&#123;L_He&#125;</span>-<span class="subst">&#123;R&#125;</span>-<span class="subst">&#123;ratio&#125;</span>.data&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># First line is a comment line</span></span><br><span class="line">        op.write(<span class="string">&#x27;HTi structure, written by HerrWu\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; atoms\n&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(positions)))</span><br><span class="line">        op.write(<span class="string">&#x27;3 atom types\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; xlo xhi\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">0</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">0</span>].<span class="built_in">min</span>() + x * L_HTi * <span class="number">1.0</span>))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; ylo yhi\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">1</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">1</span>].<span class="built_in">min</span>() + y * L_HTi * np.sqrt(<span class="number">3</span>)))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; zlo zhi\n\n&#x27;</span>.<span class="built_in">format</span>(HTi[:,<span class="number">2</span>].<span class="built_in">min</span>(), HTi[:,<span class="number">2</span>].<span class="built_in">min</span>() + z * L_HTi * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Atoms section</span></span><br><span class="line">        op.write(<span class="string">&#x27;Atoms\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Write each Position</span></span><br><span class="line">        <span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(positions):</span><br><span class="line">            op.write(<span class="string">f&#x27;<span class="subst">&#123;idx+<span class="number">1</span>&#125;</span> <span class="subst">&#123;atypelist[idx]&#125;</span> <span class="subst">&#123;i[<span class="number">0</span>]&#125;</span> <span class="subst">&#123;i[<span class="number">1</span>]&#125;</span> <span class="subst">&#123;i[<span class="number">2</span>]&#125;</span>\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">numvoidHeTiH(nvoid=<span class="number">6</span>)</span><br></pre></td></tr></table></figure> 结果如下：<br> <img src="https://img.pterclub.com/images/2022/08/24/6void-ti.png" width="40%" alt="多个氦泡刨面图" border="0"><br> <img src="https://img.pterclub.com/images/2022/08/24/6void.png" width="40%" alt="删掉钛原子示意图" border="0"></li></ol>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AIREBO势函数截断半径测试</title>
      <link href="/2022/08/20/airebo-shi-han-shu-jie-duan-ban-jing-ce-shi/"/>
      <url>/2022/08/20/airebo-shi-han-shu-jie-duan-ban-jing-ce-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><p><a href="https://aip.scitation.org/doi/10.1063/1.4905549">AIREBO</a>势函数是常用的模拟石墨烯，碳纳米管等结构的势函数，其近程相互作用默认在0.17nm-0.2nm之间会有一个非物理的应变硬化，已经有一些研究手动修改截断半径到0.2nm，比如<a href="https://doi.org/10.1063/1.3488620">这篇</a>.这里我们简单记录一下测试不同的截断半径对石墨烯单轴拉伸曲线的影响。</p><h2 id="建立单层石墨烯"><a href="#建立单层石墨烯" class="headerlink" title="建立单层石墨烯"></a>建立单层石墨烯</h2><p>这里为了计算快速就建立一个5nmx5nm的小石墨烯，bulid_structure函数见<a href="https://blog.mushroomfire.com/2022/08/20/chang-jian-jing-ti-jie-gou-jian-mo/">文章</a>.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">write_data</span>(<span class="params">pos, La, Lb, Lc, filename=<span class="string">&#x27;grap.data&#x27;</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Writing <span class="subst">&#123;filename&#125;</span>...&#x27;</span>)</span><br><span class="line">    xmin, ymin, zmin = np.<span class="built_in">min</span>(pos, axis=<span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op:</span><br><span class="line">        <span class="comment"># First line is a comment line</span></span><br><span class="line">        op.write(<span class="string">&#x27;Graphene structure, written by HerrWu\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; atoms\n&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(pos)))</span><br><span class="line">        op.write(<span class="string">&#x27;1 atom types\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Specify box Dimensions</span></span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; xlo xhi\n&#x27;</span>.<span class="built_in">format</span>(xmin, xmin+La))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; ylo yhi\n&#x27;</span>.<span class="built_in">format</span>(ymin, ymin+Lb))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; zlo zhi\n\n&#x27;</span>.<span class="built_in">format</span>(zmin-Lc, zmin+Lc))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Atoms section</span></span><br><span class="line">        op.write(<span class="string">&#x27;Atoms\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Write each Position</span></span><br><span class="line">        aidx = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> pos:</span><br><span class="line">            op.write(<span class="string">&#x27;&#123;&#125; 1 &#123;&#125; &#123;&#125; &#123;&#125;\n&#x27;</span>.<span class="built_in">format</span>(aidx, *i))</span><br><span class="line">            aidx += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">x,y,z = <span class="number">12</span>, <span class="number">21</span>, <span class="number">1</span></span><br><span class="line">Lattice_Constant = <span class="number">1.42</span></span><br><span class="line">Structure_Type = <span class="string">&#x27;GRA&#x27;</span></span><br><span class="line">pos = bulid_structure(Lattice_Constant, Structure_Type, x, y, z)</span><br><span class="line">La, Lb, Lc = x*Lattice_Constant*<span class="number">3</span>, y*Lattice_Constant*<span class="number">3</span>**<span class="number">0.5</span>, <span class="number">10</span></span><br><span class="line">write_data(pos, La, Lb, Lc, filename=<span class="string">&#x27;grap.data&#x27;</span>)</span><br></pre></td></tr></table></figure></p><h2 id="石墨烯拉伸脚本"><a href="#石墨烯拉伸脚本" class="headerlink" title="石墨烯拉伸脚本"></a>石墨烯拉伸脚本</h2><p>这个脚本是直接从<a href="https://github.com/nuwan-d/graphene_tensile_test">网上</a>抄的。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#uniaxial tensile test of graphene</span></span><br><span class="line"><span class="comment">##---------------INITIALIZATION-------------------------------</span></span><br><span class="line">units          metal</span><br><span class="line">dimension     3 </span><br><span class="line">boundary       p p f</span><br><span class="line">atom_style atomic</span><br><span class="line">newton on</span><br><span class="line"><span class="comment">##---------------ATOM DEFINITION------------------------------</span></span><br><span class="line">read_data grap.data</span><br><span class="line"><span class="comment">##---------------FORCE FIELDS---------------------------------</span></span><br><span class="line">pair_style airebo 3.0</span><br><span class="line">pair_coeff     * * CH.airebo C</span><br><span class="line"><span class="comment">##---------------SETTINGS-------------------------------------</span></span><br><span class="line">timestep 0.0005</span><br><span class="line">variable   ts equal 0.0005</span><br><span class="line"><span class="comment">##---------------COMPUTES-------------------------------------</span></span><br><span class="line">compute 1 all stress/atom NULL</span><br><span class="line">compute    2 all reduce <span class="built_in">sum</span> c_1[1] c_1[2]</span><br><span class="line"></span><br><span class="line">variable   Lx equal lx</span><br><span class="line">variable   Ly equal ly</span><br><span class="line">variable   Lz equal lz</span><br><span class="line">variable   Vol equal vol</span><br><span class="line">variable   thickn equal 3.4</span><br><span class="line">fix1 all npt temp 300 300 0.05 x 0 0 0.5 y 0 0 0.5</span><br><span class="line">thermo 2000</span><br><span class="line"><span class="comment">##---------------RELAXATION--------------------------------------</span></span><br><span class="line">run            50000</span><br><span class="line"><span class="comment">##---------------DEFORMATION-------------------------------------</span></span><br><span class="line">unfix              1</span><br><span class="line">reset_timestep     0</span><br><span class="line">fix1 all npt temp 300 300 0.05 x 0 0 0.5</span><br><span class="line">fix        2 all ave/time 1 100 100 c_2[1] c_2[2]</span><br><span class="line">fix        3 all ave/time 1 100 100 v_Lx v_Ly v_Lz v_Vol</span><br><span class="line">variable   srate equal 1.0e9</span><br><span class="line">variable   srate1 equal <span class="string">&quot;v_srate / 1.0e12&quot;</span></span><br><span class="line">fix4 all deform 1 y erate <span class="variable">$&#123;srate1&#125;</span> units box remap x</span><br><span class="line">run            100</span><br><span class="line"><span class="comment">##---------------THERMO-OUTPUTS-----------------------------------</span></span><br><span class="line">variable   CorVol equal f_3[4]*v_thickn/(f_3[3])</span><br><span class="line">variable   ConvoFac equal 1/1.0e4</span><br><span class="line">variable   sigmaxx equal f_2[1]*v_ConvoFac/v_CorVol</span><br><span class="line">variable   sigmayy equal f_2[2]*v_ConvoFac/v_CorVol</span><br><span class="line">variable   StrainPerTs equal v_srate1*v_ts</span><br><span class="line">variable   strain equal v_StrainPerTs*step</span><br><span class="line">thermo 100</span><br><span class="line">thermo_style custom step temp v_strain v_sigmaxx v_sigmayy pe ke lx ly vol </span><br><span class="line"><span class="comment">##---------------DEFORMATION-------------------------------------</span></span><br><span class="line">dump           1 all atom 5000 tensile_test.lammpstrj</span><br><span class="line">run            500000</span><br></pre></td></tr></table></figure><br>我们需要修改CH.airebo文件中的rcmin_CC和rcmax_CC，默认是1.7和2.0.</p><h2 id="结果可视化"><a href="#结果可视化" class="headerlink" title="结果可视化"></a>结果可视化</h2>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
            <tag> Lammps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常见晶体结构建模</title>
      <link href="/2022/08/20/chang-jian-jing-ti-jie-gou-jian-mo/"/>
      <url>/2022/08/20/chang-jian-jing-ti-jie-gou-jian-mo/</url>
      
        <content type="html"><![CDATA[<h2 id="模型建立"><a href="#模型建立" class="headerlink" title="模型建立"></a>模型建立</h2><p>基本思想就是建立原胞，然后按照基矢量复制基原子，目前支持BCC,FCC,HCP,graphene等结构，但是目前还不能进行晶相的旋转变换，有时间的话之后再写。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bulid_structure</span>(<span class="params">Lattice_Constant, Structure_Type, x, y, z</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> Structure_Type == <span class="string">&#x27;FCC&#x27;</span>:</span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                               [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.0</span>],</span><br><span class="line">                               [<span class="number">0.5</span>, <span class="number">0.0</span>, <span class="number">0.5</span>],</span><br><span class="line">                               [<span class="number">0.0</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;BCC&#x27;</span>:</span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                          [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                          [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                               [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;HCP&#x27;</span>:</span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                          [<span class="number">0.0</span>, np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                          [<span class="number">0.0</span>, <span class="number">0.0</span>, np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                               [<span class="number">0.5</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                               [<span class="number">0.5</span>, np.sqrt(<span class="number">3</span>) * <span class="number">5</span> / <span class="number">6</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)],</span><br><span class="line">                               [<span class="number">0.0</span>, <span class="number">1</span> / <span class="number">3</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;GRA&#x27;</span>:</span><br><span class="line">        basis = np.array([</span><br><span class="line">            [<span class="number">3.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">            [<span class="number">0.0</span>, np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">            [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">3.4</span>]</span><br><span class="line">        ]) * Lattice_Constant</span><br><span class="line">        base_atoms = np.array(</span><br><span class="line">            [[<span class="number">1</span>/<span class="number">6</span> , <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">             [<span class="number">0.5</span> , <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">            [<span class="number">0.0</span>, <span class="number">0.5</span> , <span class="number">0.0</span>],</span><br><span class="line">            [<span class="number">2</span>/<span class="number">3</span> , <span class="number">0.5</span> , <span class="number">0.0</span>]]</span><br><span class="line">        ) * np.array([Lattice_Constant * <span class="number">3</span>, Lattice_Constant * np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>])</span><br><span class="line"></span><br><span class="line">    positions = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(z):</span><br><span class="line">                base_position = np.array([i, j, k], dtype=np.float64)</span><br><span class="line">                cart_position = np.dot(basis, base_position)</span><br><span class="line">                <span class="keyword">for</span> atom_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(base_atoms)):</span><br><span class="line">                    positions.append(cart_position + base_atoms[atom_index])</span><br><span class="line">    <span class="keyword">return</span> np.array(positions)</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>石墨烯网络与铝基体复合建模教程</title>
      <link href="/2022/08/19/shi-mo-xi-wang-luo-yu-lu-ji-ti-fu-he-jian-mo-jiao-cheng/"/>
      <url>/2022/08/19/shi-mo-xi-wang-luo-yu-lu-ji-ti-fu-he-jian-mo-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><p><a href="https://blog.mushroomfire.com/2022/08/15/qiu-xing-shi-mo-xi-jian-mo-jiao-cheng/">上一篇文章</a>中我们建立了一个球状的石墨烯，这里我们对其进行一定的空间排布，然后与金属铝混合在一起，为之后计算其力学性质做准备。</p><h2 id="BCC空间排布"><a href="#BCC空间排布" class="headerlink" title="BCC空间排布"></a>BCC空间排布</h2><p>BCC是一种常见的金属晶体结构，比如Fe，当然，这里的排布方式并不是固定了，也可以采用FCC或者简单的堆垛，采用BCC我目前也没有必须的科学依据。我写的python代码如下。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getBCCgra</span>(<span class="params">iname</span>):</span><br><span class="line">    data = pd.read_csv(<span class="string">&#x27;G27-25.data&#x27;</span>, skiprows=<span class="number">9</span>, </span><br><span class="line">                header=<span class="literal">None</span>,index_col=<span class="literal">False</span>,sep=<span class="string">&#x27; &#x27;</span>,</span><br><span class="line">                names=[<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>])</span><br><span class="line"></span><br><span class="line">    pos = data[[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]].values</span><br><span class="line">    pos -= np.mean(pos, axis=<span class="number">0</span>)</span><br><span class="line">    R = np.mean(np.<span class="built_in">max</span>(pos, axis=<span class="number">0</span>) - np.<span class="built_in">min</span>(pos, axis=<span class="number">0</span>))/<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    atype = <span class="string">&#x27;BCC&#x27;</span></span><br><span class="line">    Lattice_Constant = (<span class="number">2</span>*R+<span class="number">1.42</span>)*<span class="number">2</span>/np.sqrt(<span class="number">3</span>)</span><br><span class="line">    basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                    [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                    [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line">    base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                           [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">    x, y, z = <span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span></span><br><span class="line">    positions = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(z):</span><br><span class="line">                base_position = np.array([i, j, k], dtype=<span class="built_in">float</span>)</span><br><span class="line">                cart_position = np.dot(basis, base_position)</span><br><span class="line">                <span class="keyword">for</span> atom_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(base_atoms)):</span><br><span class="line">                    npos = pos.copy()</span><br><span class="line">                    npos += cart_position + base_atoms[atom_index]</span><br><span class="line">                    <span class="keyword">for</span> m <span class="keyword">in</span> npos:</span><br><span class="line">                        positions.append(m)</span><br><span class="line">    positions = np.array(positions)</span><br><span class="line">    xhi,yhi,zhi = Lattice_Constant*(np.array([x,y,z])-<span class="number">1</span>)</span><br><span class="line">    positions = positions[(positions[:,<span class="number">0</span>]&lt;xhi) </span><br><span class="line">                          &amp; (positions[:,<span class="number">1</span>]&lt;yhi) </span><br><span class="line">                          &amp; (positions[:,<span class="number">2</span>]&lt;zhi)]</span><br><span class="line">    positions = positions[(positions[:,<span class="number">0</span>]&gt;<span class="number">0</span>) </span><br><span class="line">                          &amp; (positions[:,<span class="number">1</span>]&gt;<span class="number">0</span>) </span><br><span class="line">                          &amp; (positions[:,<span class="number">2</span>]&gt;<span class="number">0</span>)]</span><br><span class="line"></span><br><span class="line">    df = pd.DataFrame(positions, columns=[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>])</span><br><span class="line">    df[<span class="string">&#x27;type&#x27;</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    df[<span class="string">&#x27;idx&#x27;</span>] = np.arange(<span class="built_in">len</span>(df))+<span class="number">1</span></span><br><span class="line">    df = df[[<span class="string">&#x27;idx&#x27;</span>,<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]]</span><br><span class="line">    oname = iname.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>] + <span class="string">f&#x27;-<span class="subst">&#123;x-<span class="number">1</span>&#125;</span>-<span class="subst">&#123;y-<span class="number">1</span>&#125;</span>-<span class="subst">&#123;z-<span class="number">1</span>&#125;</span>.data&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(oname, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op: <span class="comment"># 写入data文件</span></span><br><span class="line">        op.write(<span class="string">f&#x27;# <span class="subst">&#123;oname&#125;</span> written by HerrWu.\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;<span class="subst">&#123;<span class="built_in">len</span>(df)&#125;</span> atoms\n1 atom types\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;0 <span class="subst">&#123;xhi&#125;</span> xlo xhi\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;0 <span class="subst">&#123;yhi&#125;</span> ylo yhi\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;0 <span class="subst">&#123;zhi&#125;</span> zlo zhi\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;Atoms # atomic\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    df.to_csv(oname, sep = <span class="string">&#x27; &#x27;</span>,index=<span class="literal">False</span>, header=<span class="literal">None</span>, mode=<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    iname = <span class="string">&#x27;G27-25.data&#x27;</span></span><br><span class="line">    getBCCgra(iname)</span><br></pre></td></tr></table></figure><br>运行结果如下：<br><img src="https://img.pterclub.com/images/2022/08/20/bcc-gra.png" alt="BCC石墨烯网络示意图" border="0"></p><h2 id="BCC石墨烯弛豫"><a href="#BCC石墨烯弛豫" class="headerlink" title="BCC石墨烯弛豫"></a>BCC石墨烯弛豫</h2><p>LAMMPS弛豫脚本如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">dimension 3</span><br><span class="line">units metal</span><br><span class="line">boundary p p p</span><br><span class="line">atom_style atomic</span><br><span class="line"></span><br><span class="line">read_data ./G27-25-3-1-1.data </span><br><span class="line">neighbor 1.0 bin</span><br><span class="line">neigh_modify every 5 delay 0 check <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">mass 1 12.010700</span><br><span class="line">pair_style airebo/morse 3.0 1 </span><br><span class="line">pair_coeff * * ./CH.airebo-m C</span><br><span class="line"></span><br><span class="line">timestep 0.001</span><br><span class="line">shell <span class="built_in">mkdir</span> minimize</span><br><span class="line">dump mini all custom 100 minimize/mini.*.dump <span class="built_in">id</span> <span class="built_in">type</span> x y z vx vy vz</span><br><span class="line">min_style cg</span><br><span class="line">minimize 1.0e-8 1.0e-8 10000 10000</span><br><span class="line">undump mini </span><br><span class="line">reset_timestep 0 </span><br><span class="line"></span><br><span class="line">variable Press equal press</span><br><span class="line">variable Temp equal temp</span><br><span class="line">variable Step equal step</span><br><span class="line">variable PE equal pe</span><br><span class="line"></span><br><span class="line">thermo 100</span><br><span class="line">thermo_style custom step temp press pe ke</span><br><span class="line"></span><br><span class="line">velocity all create 300 429816734892 dist gaussian mom <span class="built_in">yes</span> rot <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">fix 1 all npt temp 300 300 0.1 x 0 0 1 y 0 0 1 z 0 0 1</span><br><span class="line"></span><br><span class="line">fix 2 all <span class="built_in">print</span> 100 <span class="string">&quot;<span class="variable">$&#123;Step&#125;</span> <span class="variable">$&#123;Temp&#125;</span> <span class="variable">$&#123;Press&#125;</span> <span class="variable">$&#123;PE&#125;</span>&quot;</span> file relax.txt screen no title <span class="string">&quot;Step Temp Press PE&quot;</span></span><br><span class="line">shell <span class="built_in">mkdir</span> relax</span><br><span class="line">dump 1 all custom 100 relax/relax.*.dump <span class="built_in">id</span> <span class="built_in">type</span> x y z vx vy vz</span><br><span class="line"></span><br><span class="line">run 50000</span><br></pre></td></tr></table></figure><br>弛豫后构型球状石墨烯逐渐转变为二十面体，面与面的接触面积增大，整体体积收缩，结果如下：<br><img src="https://img.pterclub.com/images/2022/08/20/bcc-gra-relax.png" alt="弛豫后BCC石墨烯网络示意图" border="0"></p><h2 id="石墨烯网络与铝基体复合"><a href="#石墨烯网络与铝基体复合" class="headerlink" title="石墨烯网络与铝基体复合"></a>石墨烯网络与铝基体复合</h2><ul><li>首先在盒子内添加FCC铝原子，晶格常数这里取4.05，脚本如下：  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bulid_structure</span>(<span class="params">Lattice_Constant, Structure_Type, x, y, z</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    该函数用于创建常见金属晶体结构！</span></span><br><span class="line"><span class="string">    :param Lattice_Constant: 晶格常数</span></span><br><span class="line"><span class="string">    :param Structure_Type: 金属晶体结构：FCC, BCC, HCP</span></span><br><span class="line"><span class="string">    :param x: x方向拓展个数</span></span><br><span class="line"><span class="string">    :param y: y方向拓展个数</span></span><br><span class="line"><span class="string">    :param z: z方向拓展个数</span></span><br><span class="line"><span class="string">    :return: 原子坐标 N-3 array</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> Structure_Type == <span class="string">&#x27;FCC&#x27;</span>:</span><br><span class="line">        <span class="comment"># Cubic FCC basis</span></span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.0</span>, <span class="number">0.5</span>],</span><br><span class="line">                            [<span class="number">0.0</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;BCC&#x27;</span>:</span><br><span class="line">        <span class="comment"># Cubic BCC basis</span></span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]]) * Lattice_Constant</span><br><span class="line">    <span class="keyword">elif</span> Structure_Type == <span class="string">&#x27;HCP&#x27;</span>:</span><br><span class="line">        <span class="comment"># Cubic HCP basis</span></span><br><span class="line">        basis = np.array([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                        [<span class="number">0.0</span>, <span class="number">0.0</span>, np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line"></span><br><span class="line">        base_atoms = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.0</span>],</span><br><span class="line">                            [<span class="number">0.5</span>, np.sqrt(<span class="number">3</span>) * <span class="number">5</span> / <span class="number">6</span>, <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)],</span><br><span class="line">                            [<span class="number">0.0</span>, <span class="number">1</span> / <span class="number">3</span> * np.sqrt(<span class="number">3</span>), <span class="number">0.5</span> * np.sqrt(<span class="number">8</span> / <span class="number">3</span>)]]) * Lattice_Constant</span><br><span class="line">    <span class="comment"># Generate atom positions</span></span><br><span class="line">    positions = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(z):</span><br><span class="line">                base_position = np.array([i, j, k])</span><br><span class="line">                cart_position = np.inner(basis.T, base_position)</span><br><span class="line">                <span class="keyword">for</span> atom <span class="keyword">in</span> base_atoms:</span><br><span class="line">                    positions.append(cart_position + atom)</span><br><span class="line">    <span class="keyword">return</span> np.array(positions)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_Al</span>(<span class="params">gra, LAl=<span class="number">4.05</span></span>):</span><br><span class="line">    xmin, ymin, zmin = np.<span class="built_in">min</span>(gra, axis=<span class="number">0</span>)</span><br><span class="line">    xmax, ymax, zmax = np.<span class="built_in">max</span>(gra, axis=<span class="number">0</span>)</span><br><span class="line">    a, b ,c = np.<span class="built_in">round</span>((np.<span class="built_in">max</span>(gra, axis = <span class="number">0</span>) - np.<span class="built_in">min</span>(gra, axis=<span class="number">0</span>))/LAl).astype(<span class="built_in">int</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Building Al...&#x27;</span>)</span><br><span class="line">    Al = np.array(bulid_structure(LAl, <span class="string">&#x27;FCC&#x27;</span>, a, b, c))</span><br><span class="line">    Al = Al - np.<span class="built_in">min</span>(Al, axis=<span class="number">0</span>) + np.<span class="built_in">min</span>(gra,axis=<span class="number">0</span>)</span><br><span class="line">    La, Lb, Lc = a*LAl, b*LAl, c*LAl</span><br><span class="line">    atype = np.r_[np.ones(<span class="built_in">len</span>(Al)), np.ones(<span class="built_in">len</span>(gra))*<span class="number">2</span>].astype(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">return</span> gra, Al, atype, La, Lb, Lc</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_data</span>(<span class="params">points_mask, atype_mask, La, Lb, Lc, filename=<span class="string">&#x27;gra-Al.data&#x27;</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Writing <span class="subst">&#123;filename&#125;</span>...&#x27;</span>)</span><br><span class="line">    xmin, ymin, zmin = np.<span class="built_in">min</span>(points_mask, axis=<span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op:</span><br><span class="line">        <span class="comment"># First line is a comment line</span></span><br><span class="line">        op.write(<span class="string">&#x27;Gra-Al structure, written by HerrWu\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; atoms\n&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(points_mask)))</span><br><span class="line">        op.write(<span class="string">&#x27;2 atom types\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Specify box Dimensions</span></span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; xlo xhi\n&#x27;</span>.<span class="built_in">format</span>(xmin, xmin+La))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; ylo yhi\n&#x27;</span>.<span class="built_in">format</span>(ymin, ymin+Lb))</span><br><span class="line">        op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; zlo zhi\n\n&#x27;</span>.<span class="built_in">format</span>(zmin, zmin+Lc))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Atoms section</span></span><br><span class="line">        op.write(<span class="string">&#x27;Atoms\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Write each Position</span></span><br><span class="line">        aidx = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> itype, pos <span class="keyword">in</span> <span class="built_in">zip</span>(atype_mask, points_mask):</span><br><span class="line">            op.write(<span class="string">&#x27;&#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125;\n&#x27;</span>.<span class="built_in">format</span>(aidx, itype, *pos))</span><br><span class="line">            aidx += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;relax.50000.dump&#x27;</span>, skiprows=<span class="number">9</span>, </span><br><span class="line">            header=<span class="literal">None</span>,index_col=<span class="literal">False</span>,sep=<span class="string">&#x27; &#x27;</span>,</span><br><span class="line">            names=[<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;vx&#x27;</span>, <span class="string">&#x27;vy&#x27;</span>, <span class="string">&#x27;vz&#x27;</span>])</span><br><span class="line">gra = data[[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]].values</span><br><span class="line">gra, Al, atype, La, Lb, Lc = build_Al(gra, LAl=<span class="number">4.05</span>)</span><br><span class="line">points = np.r_[Al, gra]</span><br><span class="line">write_data(points, atype, La, Lb, Lc)</span><br></pre></td></tr></table></figure></li><li>但是此时的铝和石墨烯之间原子存在重叠的现象，需要将距离过近的原子删掉，使用LAMMPS脚本如下：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">dimension 3</span><br><span class="line">units metal</span><br><span class="line">boundary p p p</span><br><span class="line">atom_style atomic</span><br><span class="line"></span><br><span class="line">read_data gra-al.data </span><br><span class="line"></span><br><span class="line">mass 1 26.981538</span><br><span class="line">mass 2 12.010700</span><br><span class="line"></span><br><span class="line">group al <span class="built_in">type</span> 1</span><br><span class="line">group gra <span class="built_in">type</span> 2</span><br><span class="line"></span><br><span class="line">neighbor 2.0 bin</span><br><span class="line">neigh_modify every 1 delay 0 check <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">pair_style hybrid airebo/morse 3.0 1 eam/alloy lj/cut 7.83125 <span class="comment">#（2.5*sigma）</span></span><br><span class="line">pair_coeff * * airebo/morse ../CH.airebo-m NULL C</span><br><span class="line">pair_coeff * * eam/alloy ./Al_DFT.eam.alloy Al NULL</span><br><span class="line">pair_coeff 1 2 lj/cut 0.003457 3.1325</span><br><span class="line"></span><br><span class="line">timestep 0.001</span><br><span class="line"></span><br><span class="line">delete_atoms overlap 3.1325 al gra <span class="comment"># 这句话很重要，再次体现LAMMPS 代码的高效性能 </span></span><br><span class="line"></span><br><span class="line">write_data gra-al-delete.data </span><br></pre></td></tr></table></figure>删除后模型如下：<br><img src="https://img.pterclub.com/images/2022/08/20/bcc-gra-Al.png" alt="BCC石墨烯网络/铝基体示意图" border="0"></li><li>最后进行弛豫，LAMMPS脚本如下：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">dimension 3</span><br><span class="line">units metal</span><br><span class="line">boundary p p p</span><br><span class="line">atom_style atomic</span><br><span class="line"></span><br><span class="line">read_data gra-al-delete.data </span><br><span class="line"></span><br><span class="line">mass 1 26.981538</span><br><span class="line">mass 2 12.010700</span><br><span class="line"></span><br><span class="line">group al <span class="built_in">type</span> 1</span><br><span class="line">group gra <span class="built_in">type</span> 2</span><br><span class="line"></span><br><span class="line">neighbor 2.0 bin</span><br><span class="line">neigh_modify every 1 delay 0 check <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">pair_style hybrid airebo/morse 3.0 1 eam/alloy lj/cut 7.83125 <span class="comment">#（2.5*sigma）</span></span><br><span class="line">pair_coeff * * airebo/morse ../CH.airebo-m NULL C</span><br><span class="line">pair_coeff * * eam/alloy ./Al_DFT.eam.alloy Al NULL</span><br><span class="line">pair_coeff 1 2 lj/cut 0.003457 3.1325</span><br><span class="line"></span><br><span class="line">timestep 0.001</span><br><span class="line"></span><br><span class="line">shell <span class="built_in">mkdir</span> minimize</span><br><span class="line">dump mini all custom 100 minimize/mini.*.dump <span class="built_in">id</span> <span class="built_in">type</span> x y z vx vy vz</span><br><span class="line">min_style cg</span><br><span class="line">minimize 1.0e-8 1.0e-8 10000 10000 </span><br><span class="line">undump mini </span><br><span class="line">reset_timestep 0 </span><br><span class="line"></span><br><span class="line">variable Press equal press</span><br><span class="line">variable Temp equal temp</span><br><span class="line">variable Step equal step</span><br><span class="line">variable PE equal pe</span><br><span class="line"></span><br><span class="line">thermo 100</span><br><span class="line">thermo_style custom step temp press pe ke</span><br><span class="line"></span><br><span class="line">velocity all create 300 429816734892 dist gaussian mom <span class="built_in">yes</span> rot <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">fix 1 all npt temp 300 300 0.1 x 0 0 1 y 0 0 1 z 0 0 1</span><br><span class="line"></span><br><span class="line">fix 2 all <span class="built_in">print</span> 100 <span class="string">&quot;<span class="variable">$&#123;Step&#125;</span> <span class="variable">$&#123;Temp&#125;</span> <span class="variable">$&#123;Press&#125;</span> <span class="variable">$&#123;PE&#125;</span>&quot;</span> file relax.txt screen no title <span class="string">&quot;Step Temp Press PE&quot;</span></span><br><span class="line">shell <span class="built_in">mkdir</span> relax</span><br><span class="line">dump 1 all custom 100 relax/relax.*.dump <span class="built_in">id</span> <span class="built_in">type</span> x y z vx vy vz</span><br><span class="line"></span><br><span class="line">run 50000</span><br></pre></td></tr></table></figure>  弛豫后构型如下：<br>  <img src="https://img.pterclub.com/images/2022/08/20/bcc-gra-Al-relax.png" alt="弛豫后BCC石墨烯网络/铝基体示意图" border="0"><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2>通过以上步骤一个平衡好的构型就可以拿来做计算了，在后续的内容里面我会讲解冲击的设置以及分析结果，这类的博客也是用来记录这篇文章的研究过程，方便自己梳理，好的，那这次就到这里了。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
            <tag> Lammps </tag>
            
            <tag> 石墨烯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DeepMD学习记录</title>
      <link href="/2022/08/15/deepmd-xue-xi-ji-lu/"/>
      <url>/2022/08/15/deepmd-xue-xi-ji-lu/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 深度学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DeepMD </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浅析python的GPU计算</title>
      <link href="/2022/08/15/qian-xi-python-de-gpu-ji-suan/"/>
      <url>/2022/08/15/qian-xi-python-de-gpu-ji-suan/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>加速python运算之numba篇</title>
      <link href="/2022/08/15/jia-su-python-yun-suan-zhi-numba-pian/"/>
      <url>/2022/08/15/jia-su-python-yun-suan-zhi-numba-pian/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fortran学习心得</title>
      <link href="/2022/08/15/fortran-xue-xi-xin-de/"/>
      <url>/2022/08/15/fortran-xue-xi-xin-de/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Fortran </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高熵合金建模教程</title>
      <link href="/2022/08/15/gao-shang-he-jin-jian-mo-jiao-cheng/"/>
      <url>/2022/08/15/gao-shang-he-jin-jian-mo-jiao-cheng/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>球形石墨烯建模教程</title>
      <link href="/2022/08/15/qiu-xing-shi-mo-xi-jian-mo-jiao-cheng/"/>
      <url>/2022/08/15/qiu-xing-shi-mo-xi-jian-mo-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><p>石墨烯因为优异的物理和力学性质，是一种很重要的二维材料。其中一个用途就是通过和金属复合来提高基体的力学性能。但是传统的层状复合，存在一些难以避免的问题，比如受载荷的强各向异性，石墨烯本身的团聚等，都会显著降低其实际应用价值。于是，构建三维化的石墨烯网格成为一种潜在的解决手段。包括石墨烯/碳纳米管的结合，蜂窝状石墨烯，网状石墨烯，以及今天我主要关心的球状石墨烯。</p><p>球状石墨烯，最简单的例子是足球烯，也就是常说的C60,这一类球形的，完全由近似正六边形和正五边形组成的结构，还有一个名字叫做<a href="https://en.wikipedia.org/wiki/Goldberg_polyhedron">Goldberg polyhedron</a> (GP)。这类结构有两个重要参数m,n,代表从任意一个正五边形出发，直走m步,左转60°n步，就能刚好到达下一个正五边形，简称G(m,n)。比如下图就是G(1,4).<br><img src="https://img.pterclub.com/images/2022/08/17/G14.png" width="40%" alt="G(1,4) 图形"><br>这里，构建球形石墨烯，我们就建立这样的初始构型来表征其初始原子分布。</p><h2 id="模型建立"><a href="#模型建立" class="headerlink" title="模型建立"></a>模型建立</h2><p>一般来说，建立模型我都是用python来做的，尤其是晶体结构比较明确的那种，比如FCC晶体，单层石墨烯这种，不过今天这个由于比较复杂，所以我认为应该是有现成的轮子可以用的。一通谷歌以后，还真找到了几个：</p><ul><li><a href="http://nanocap.sourceforge.net/">NanoCap</a></li><li><a href="http://antiprism.com/">Antiprism</a></li></ul><p>这两个软件都可以用来生成GP,NanoCap自带图形界面，windows/ubuntu都可以直接使用，但是只有一个指定参数，就是C原子数目，它并不是按照数学上的方式来直接建立GP，似乎是加的有优化，好处是生成的球状石墨烯结构上很稳定，坏处就是6000个原子以上我就生成不出来了，也就是规模十分有限。今天重点来讲解Antiprism使用。</p><h2 id="Antiprism使用"><a href="#Antiprism使用" class="headerlink" title="Antiprism使用"></a>Antiprism使用</h2><p>它的官网显示windows下可以直接使用，但是当你下载.exe文件时候，好家伙，直接没有，无奈我先是安装了他的python包，安装完以后使用过程的语法，好像是有点不对劲，生成的东西不对，也可能是我没有用对吧，最后我是用他的linux版本生成的。真的，这个软件的文档好难理解，甚至我感觉有些像是隐藏参数，so hard.</p><ul><li>安装linux版本的Antiprism<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:antiprism/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install antiprism</span><br></pre></td></tr></table></figure>安装过程中显示有些包没有更新或者已经没有用不影响最终的使用，我这里是使用WSl来安装的，没有可视化。</li><li>生成一个较大的GP(27,25)<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geodesic -c 27,25 ico | pol_recip | canonical &gt; G27-25.off</span><br></pre></td></tr></table></figure>其中27，25就是m和n，这几个命令具体意思可以在官网查看，不过真的不是很好理解。如下图这样就是运行成功了。<br><img src="https://img.pterclub.com/images/2022/08/17/1660715991038.png" alt="shell运行结果"></li><li>转换生成的.off文件为MD文件<br>这里我们只需要他的坐标文件，而且需要进行缩放来使得初始的C-C键长大致在0.142nm，我写了一个简单的python脚本来转换为data文件，这种格式在<a href="https://www.lammps.org/">LAMMPS</a>中很方便使用。  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> freud <span class="comment"># conda install -c conda-forge freud 很好用的库</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">off2data</span>(<span class="params">iname</span>):</span><br><span class="line">    file = <span class="built_in">open</span>(iname).readlines() <span class="comment"># 读取文件</span></span><br><span class="line">    N = <span class="built_in">int</span>(file[<span class="number">1</span>].split()[<span class="number">0</span>])</span><br><span class="line">    pos = np.array([i.split() <span class="keyword">for</span> i <span class="keyword">in</span> file[<span class="number">2</span>:<span class="number">2</span>+N]],dtype=<span class="built_in">float</span>) <span class="comment"># 获取原始坐标</span></span><br><span class="line">    Lbox = np.<span class="built_in">max</span>(pos,axis=<span class="number">0</span>)-np.<span class="built_in">min</span>(pos, axis=<span class="number">0</span>)</span><br><span class="line">    box = freud.box.Box(*Lbox*<span class="number">1.5</span>)</span><br><span class="line">    nlist = freud.locality.AABBQuery(box, pos).query(pos, <span class="built_in">dict</span>(num_neighbors=<span class="number">3</span>, exclude_ii=<span class="literal">True</span>)).toNeighborList()</span><br><span class="line">    avebond = np.mean(nlist.distances) <span class="comment"># 计算平均C-C键长</span></span><br><span class="line">    factor = <span class="number">1.42</span>/avebond</span><br><span class="line">    pos *=factor <span class="comment"># 缩放原始坐标</span></span><br><span class="line">    pos -= np.mean(pos, axis=<span class="number">0</span>) <span class="comment"># 质心平移至原点</span></span><br><span class="line">    df = pd.DataFrame(pos, columns=[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>])</span><br><span class="line">    df[<span class="string">&#x27;type&#x27;</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    df[<span class="string">&#x27;idx&#x27;</span>] = np.arange(<span class="built_in">len</span>(df))+<span class="number">1</span></span><br><span class="line">    df = df[[<span class="string">&#x27;idx&#x27;</span>,<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]]</span><br><span class="line">    lo = np.<span class="built_in">min</span>(pos, axis=<span class="number">0</span>)-<span class="number">20</span></span><br><span class="line">    hi = np.<span class="built_in">max</span>(pos, axis=<span class="number">0</span>)+<span class="number">20</span></span><br><span class="line">    oname = iname.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>] + <span class="string">&#x27;.data&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(oname, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> op: <span class="comment"># 写入data文件</span></span><br><span class="line">        op.write(<span class="string">f&#x27;# <span class="subst">&#123;oname&#125;</span> written by HerrWu.\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;<span class="subst">&#123;<span class="built_in">len</span>(pos)&#125;</span> atoms\n1 atom types\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;<span class="subst">&#123;lo[<span class="number">0</span>]&#125;</span> <span class="subst">&#123;hi[<span class="number">0</span>]&#125;</span> xlo xhi\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;<span class="subst">&#123;lo[<span class="number">1</span>]&#125;</span> <span class="subst">&#123;hi[<span class="number">1</span>]&#125;</span> ylo yhi\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">f&#x27;<span class="subst">&#123;lo[<span class="number">2</span>]&#125;</span> <span class="subst">&#123;hi[<span class="number">2</span>]&#125;</span> zlo zhi\n\n&#x27;</span>)</span><br><span class="line">        op.write(<span class="string">&#x27;Atoms # atomic\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    df.to_csv(oname, sep = <span class="string">&#x27; &#x27;</span>,index=<span class="literal">False</span>, header=<span class="literal">None</span>, mode=<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    iname = <span class="string">&#x27;G27-25.off&#x27;</span></span><br><span class="line">    off2data(iname)</span><br></pre></td></tr></table></figure></li><li>使用<a href="https://www.ovito.org/">Ovito</a>可视化生成的构型<br>使用Ovito打开.data文件以后，使用create_bonds，这里对于五边形的部分应该单独做处理的，我就简单直接看了。<br><img src="https://img.pterclub.com/images/2022/08/17/gra_ball.png" alt="全局示意图" border="0" width="60%/"><img src="https://img.pterclub.com/images/2022/08/17/local.png" alt="局部放大图" border="0" width="60%/"><h2 id="初始构型弛豫"><a href="#初始构型弛豫" class="headerlink" title="初始构型弛豫"></a>初始构型弛豫</h2>使用LAMMPS来进行初始的构型弛豫，in文件如下：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">dimension 3</span><br><span class="line">units metal</span><br><span class="line">boundary p p p</span><br><span class="line">atom_style atomic</span><br><span class="line"></span><br><span class="line">read_data ./G27-25.data </span><br><span class="line"></span><br><span class="line">neighbor 1.0 bin</span><br><span class="line">neigh_modify every 5 delay 0 check yes</span><br><span class="line"></span><br><span class="line">mass 1 12.010700</span><br><span class="line">pair_style airebo/morse 3.0 1 </span><br><span class="line">pair_coeff * * ./CH.airebo-m C</span><br><span class="line"></span><br><span class="line">timestep 0.001</span><br><span class="line">shell mkdir minimize</span><br><span class="line">dump mini all custom 100 minimize/mini.*.dump id type x y z vx vy vz</span><br><span class="line">min_style cg</span><br><span class="line">minimize 1.0e-8 1.0e-8 10000 10000</span><br><span class="line">undump mini </span><br><span class="line">reset_timestep 0 </span><br><span class="line"></span><br><span class="line">variable Press equal press</span><br><span class="line">variable Temp equal temp</span><br><span class="line">variable Step equal step</span><br><span class="line">variable PE equal pe</span><br><span class="line"></span><br><span class="line">thermo 100</span><br><span class="line">thermo_style custom step temp press pe ke</span><br><span class="line"></span><br><span class="line">velocity all create 300 429816734892 dist gaussian mom yes rot yes</span><br><span class="line"></span><br><span class="line">fix 1 all nvt temp 300 300 0.5</span><br><span class="line"></span><br><span class="line">fix 2 all print 100 &quot;$&#123;Step&#125; $&#123;Temp&#125; $&#123;Press&#125; $&#123;PE&#125;&quot; file relax.txt screen no title &quot;Step Temp Press PE&quot;</span><br><span class="line">shell mkdir relax</span><br><span class="line">dump 1 all custom 100 relax/relax.*.dump id type x y z vx vy vz</span><br><span class="line"></span><br><span class="line">run 20000</span><br></pre></td></tr></table></figure></li><li>能量最小化过程<br><img src="https://img.pterclub.com/images/2022/08/17/rr9nf-828hs.gif" alt="能量最小化过程" border="0" width="60%/"></li><li>弛豫过程<br>可以看到石墨烯的褶皱是从最开始的十二个五边形区域开始扩展的，最后逐渐演变为一个二十面体，其截面就是一个六边形，这与<a href="https://doi.org/10.1016/j.carbon.2021.06.067">Yang et al.</a>文章中的结果相吻合。<br><img src="https://img.pterclub.com/images/2022/08/17/relax.png" alt="弛豫后构型" border="0" width="60%/"></li></ul><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>这次我们建立了球状的石墨烯，并对其进行了弛豫，下一篇文章我们来将这个球状石墨烯进行组装，并与金属基体进行复合。</p>]]></content>
      
      
      <categories>
          
          <category> 分子动力学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 分子动力学 </tag>
            
            <tag> Lammps </tag>
            
            <tag> 石墨烯 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>Gallery</title>
      <link href="/Gallery/index.html"/>
      <url>/Gallery/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="我的香宝"><a href="#我的香宝" class="headerlink" title="我的香宝"></a>我的香宝</h2><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=255667&auto=0&height=66"></iframe><div class="fj-gallery"><p><img src="https://ptpimg.me/c58f56.jpg" alt><br><img src="https://ptpimg.me/984qel.jpg" alt><br><img src="https://ptpimg.me/c4a8p1.jpg" alt><br><img src="https://ptpimg.me/d3t4ek.jpg" alt></p>          </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>archives</title>
      <link href="/archives/index.html"/>
      <url>/archives/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/aside-count.css"/>
      <url>/css/aside-count.css</url>
      
        <content type="html"><![CDATA[/*人生倒计时侧边栏*/.aside-count .content .item {    margin-bottom: 15px;    line-height: initial;}.aside-count .content .item:last-child {    margin-bottom: 0} .aside-count .content .item .title {    font-size: 12px;    color: var(--minor);    display: flex;    align-items: center} .aside-count .content .item .title span {    color: var(--theme);    font-weight: 500;    font-size: 14px;    margin: 0 5px} .aside-count .content .item .progress {    display: flex;    align-items: center} .aside-count .content .item .progress .progress-bar {    height: 10px;    border-radius: 5px;    overflow: hidden;    background: var(--classC);    width: 0;    min-width: 0;    flex: 1;    margin-right: 5px}@keyframes progress {    0% {        background-position: 0 0    }     100% {        background-position: 30px 0    }}.aside-count .content .item .progress .progress-bar .progress-inner {    width: 0;    height: 100%;    border-radius: 5px;    transition: width 0.35s;    -webkit-animation: progress 750ms linear infinite;    animation: progress 750ms linear infinite} .aside-count .content .item .progress .progress-bar .progress-inner-1 {    background: #bde6ff;    background-image: linear-gradient(135deg, #50bfff 25%, transparent 25%, transparent 50%, #50bfff 50%, #50bfff 75%, transparent 75%, transparent 100%);    background-size: 30px 30px} .aside-count .content .item .progress .progress-bar .progress-inner-2 {    background: #ffd980;    background-image: linear-gradient(135deg, #f7ba2a 25%, transparent 25%, transparent 50%, #f7ba2a 50%, #f7ba2a 75%, transparent 75%, transparent 100%);    background-size: 30px 30px} .aside-count .content .item .progress .progress-bar .progress-inner-3 {    background: #ffa9a9;    background-image: linear-gradient(135deg, #ff4949 25%, transparent 25%, transparent 50%, #ff4949 50%, #ff4949 75%, transparent 75%, transparent 100%);    background-size: 30px 30px} .aside-count .content .item .progress .progress-bar .progress-inner-4 {    background: #67c23a;    background-image: linear-gradient(135deg, #4f9e28 25%, transparent 25%, transparent 50%, #4f9e28 50%, #4f9e28 75%, transparent 75%, transparent 100%);    background-size: 30px 30px}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/double.css"/>
      <url>/css/double.css</url>
      
        <content type="html"><![CDATA[/*首页文章双栏布局*/@media screen and (min-width: 1300px) {    #recent-posts {        margin-top: -1.25rem;/*第一排间距调整，若有磁贴或日历请注释掉该行*/        align-content: flex-start;        display: flex;        flex-wrap: wrap;/*规定灵活的项目在必要的时候拆行或拆列。*/        justify-content: space-between;        width: 80%;    }    #recent-posts>.recent-post-item {        margin-top: 1.25rem;/*左边第一列间距调整*/        display: flex;        flex-direction: row;        height: 15em;/*文章容器容器高度*/        width: 49.5%;/*文章容器容器宽度*/    }    #recent-posts>.recent-post-item .post_cover {        width: 40%;/*图片封面宽度*/        height: 100%;/*图片封面高度*/    }    #recent-posts>.recent-post-item .post_cover img.post_bg {        width: 100%;/*图片宽度*/        height: 100%;/*图片高度*/    }    #recent-posts>.recent-post-item .left_radius {        border-radius: 8px 8px 0 0;/*圆角修改*/    }    #recent-posts>.recent-post-item .right_radius {        border-radius: 8px 8px 0 0;/*圆角修改*/    }    .recent-post-info {        padding: 0 20px!important;/*文字容器左右间距*/        margin-top: 1em;/*文字容器上间距*/        width: 60% !important;/*文字容器宽度*/    }    #recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap {        margin-bottom: 1rem;/*控制标题meta信息的底部间距*/    }    /*底部页码导航居中*/    #pagination {        overflow: hidden;        margin-top: 1rem;        width: 100%;    }    /*内页容器加宽*/    .layout#content-inner {        max-width: 1450px;    }    #aside-content {        width: 20%;        padding-left: 0.8rem;/*侧边栏与首页文章容器距离*/    }    /*文章内页居中显示*/    .layout {        display: flex;        justify-content: center;        padding: .5rem 1.5rem;    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/clock.min.css"/>
      <url>/css/clock.min.css</url>
      
        <content type="html"><![CDATA[@font-face{font-family:UnidreamLED;src:url(https://cdn.cbd.int/anzhiyu-blog/fonts/UnidreamLED.ttf);font-display:swap}.card-clock-location,.card-clock-windDir,span.card-clock-weather{font-family:ZhuZiAYuanJWD}span.temp{font-family:UnidreamLED}#hexo_electric_clock{padding:20px}.card-clock{padding:0!important}.card-background{height:153px;margin:15px;border-radius:8px;box-shadow:inset 0 0 4px 2px rgb(145 148 154 / 40%);z-index:2}.clock-row{font-family:UnidreamLED;font-weight:400;color:#000;display:flex;justify-content:space-between;flex-wrap:nowrap;white-space:nowrap}.card-clock-clockdate,.card-clock-ip{text-align:left}.card-clock-location,.card-clock-weather{text-align:center}.card-clock-dackorlight,.card-clock-humidity{text-align:right}.card-clock-time{flex:1;font-family:UnidreamLED;font-size:38px;text-align:center;line-height:1.5}[data-theme=dark] .card-background{background-color:#212121}[data-theme=dark] .clock-row{color:#fff}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/runtime.min.css"/>
      <url>/css/runtime.min.css</url>
      
        <content type="html"><![CDATA[div#runtime{width:180px;margin:auto;color:#fff;padding-inline:5px;border-radius:10px;background-color:rgba(0,0,0,.7)}#workboard{font-size:12px}[data-theme=dark] div#runtime{color:#28b4c8;box-shadow:0 0 5px rgba(28,69,218,.71);animation:flashlight 1s linear infinite alternate}@-moz-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-webkit-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-o-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/aside-count.js"/>
      <url>/js/aside-count.js</url>
      
        <content type="html"><![CDATA[function init_life_time() {    function getAsideLifeTime() {        let nowDate = +new Date();        let todayStartDate = new Date(new Date().toLocaleDateString()).getTime();        let todayPassHours = (nowDate - todayStartDate) / 1000 / 60 / 60;        let todayPassHoursPercent = (todayPassHours / 24) * 100;        $('#dayProgress .title span').html(parseInt(todayPassHours));        $('#dayProgress .progress .progress-inner').css('width', parseInt(todayPassHoursPercent) + '%');        $('#dayProgress .progress .progress-percentage').html(parseInt(todayPassHoursPercent) + '%');        let weeks = {            0: 7,            1: 1,            2: 2,            3: 3,            4: 4,            5: 5,            6: 6        };        let weekDay = weeks[new Date().getDay()];        let weekDayPassPercent = (weekDay / 7) * 100;        $('#weekProgress .title span').html(weekDay);        $('#weekProgress .progress .progress-inner').css('width', parseInt(weekDayPassPercent) + '%');        $('#weekProgress .progress .progress-percentage').html(parseInt(weekDayPassPercent) + '%');        let year = new Date().getFullYear();        let date = new Date().getDate();        let month = new Date().getMonth() + 1;        let monthAll = new Date(year, month, 0).getDate();        let monthPassPercent = (date / monthAll) * 100;        $('#monthProgress .title span').html(date);        $('#monthProgress .progress .progress-inner').css('width', parseInt(monthPassPercent) + '%');        $('#monthProgress .progress .progress-percentage').html(parseInt(monthPassPercent) + '%');        let yearPass = (month / 12) * 100;        $('#yearProgress .title span').html(month);        $('#yearProgress .progress .progress-inner').css('width', parseInt(yearPass) + '%');        $('#yearProgress .progress .progress-percentage').html(parseInt(yearPass) + '%');    }    getAsideLifeTime();    setInterval(() => {        getAsideLifeTime();    }, 1000);}init_life_time()]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/mouse_snow.js"/>
      <url>/js/mouse_snow.js</url>
      
        <content type="html"><![CDATA[(function(){function t(){i(),a()}function i(){document.addEventListener("mousemove",o),document.addEventListener("touchmove",e),document.addEventListener("touchstart",e),window.addEventListener("resize",n)}function n(t){d=window.innerWidth,window.innerHeight}function e(t){if(t.touches.length>0)for(var i=0;i<t.touches.length;i++)s(t.touches[i].clientX,t.touches[i].clientY,r[Math.floor(Math.random()*r.length)])}function o(t){u.x="t.clientX,u.y=t.clientY,s(u.x,u.y,r[Math.floor(Math.random()*r.length)])}function" s(t,i,n){var e="new" l;e.init(t,i,n),f.push(e)}function h(){for(var t="0;t<f.length;t++)f[t].update();for(t=f.length-1;t">=0;t--)f[t].lifeSpan</t.touches.length;i++)s(t.touches[i].clientX,t.touches[i].clientY,r[Math.floor(Math.random()*r.length)])}function>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友链</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/clock.js"/>
      <url>/js/clock.js</url>
      
        <content type="html"><![CDATA[function getIpInfo(){fetch("https://restapi.amap.com/v3/ip?key=e2b04289e870b005374ee030148d64fd&s=rsv3").then((c=>c.json())).then((c=>{fetch(`https://devapi.qweather.com/v7/weather/now?location=${c.rectangle.split(";")[0]}&key=b16a1fa0e63c46a4b8f28abfb06ae3fe`).then((c=>c.json())).then((e=>{if(document.getElementById("hexo_electric_clock")){var a=c,s=e,n=document.getElementById("hexo_electric_clock");let r="#000";switch(s.now.icon){case"100":r="#fdcc45";break;case"101":r="#fe6976";break;case"102":case"103":r="#fe7f5b";break;case"104":case"150":case"151":case"152":case"153":case"154":case"800":case"801":case"802":case"803":case"804":case"805":case"806":case"807":r="#2152d1";break;case"300":case"301":case"305":case"306":case"307":case"308":case"309":case"310":case"311":case"312":case"313":case"314":case"315":case"316":case"317":case"318":case"350":case"351":case"399":r="#49b1f5";break;case"302":case"303":case"304":r="#fdcc46";break;case"400":case"401":case"402":case"403":case"404":case"405":case"406":case"407":case"408":case"409":case"410":case"456":case"457":case"499":r="#a3c2dc";break;case"500":case"501":case"502":case"503":case"504":case"507":case"508":case"509":case"510":case"511":case"512":case"513":case"514":case"515":r="#97acba";break;case"900":case"999":r="red";break;case"901":r="#179fff;"}clock_box_html=`\n            <div class="clock-row">\n              <span id="card-clock-clockdate" class="card-clock-clockdate"></span>\n              <span class="card-clock-weather"><i class="qi-${s.now.icon}-fill" style="color: ${r}"></i> ${s.now.text} <span>${s.now.temp}</span> ℃</span>\n              <span class="card-clock-humidity">💧 ${s.now.humidity}%</span>\n            </div>\n            <div class="clock-row">\n              <span id="card-clock-time" class="card-clock-time"></span>\n            </div>\n            <div class="clock-row">\n              <span class="card-clock-windDir"> <i class="qi-gale"></i> ${s.now.windDir}</span>\n              <span class="card-clock-location">${a.city}</span>\n              <span id="card-clock-dackorlight" class="card-clock-dackorlight"></span>\n            </div>\n            `;var t=["SUN","MON","TUE","WED","THU","FRI","SAT"];function o(){var c,e=new Date,a=l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2),s=l(e.getFullYear(),4)+"-"+l(e.getMonth()+1,2)+"-"+l(e.getDate(),2)+" "+t[e.getDay()],n=e.getHours();if(n>12?(n-=12,c=" P M"):c=" A M",document.getElementById("card-clock-time")){var o=document.getElementById("card-clock-time"),r=document.getElementById("card-clock-clockdate"),d=document.getElementById("card-clock-dackorlight");o.innerHTML=a,r.innerHTML=s,d.innerHTML=c}}function l(c,e){for(var a="",s=0;s]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://cdn.cbd.int/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} */@font-face {    font-family: ZhuZiAYuanJWD;    src: url(https://cdn.cbd.int/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);    font-display: swap;    font-weight: lighter;  }    div#menus {    font-family: 'ZhuZiAYuanJWD';  }  h1#site-title {    font-family: ZhuZiAYuanJWD;    font-size: 3em !important;  }  a.article-title,  a.blog-slider__title,  a.categoryBar-list-link,  h1.post-title {    font-family: ZhuZiAYuanJWD;  }    .iconfont {    font-family: 'iconfont' !important;    font-size: 3em;    /* 可以定义图标大小 */    font-style: normal;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;  }    /* 时间轴生肖icon */  svg.icon {    /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */    width: 1em;    height: 1em;    /* width和height定义图标的默认宽度和高度*/    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;  }    .icon-zhongbiao::before {    color: #f7c768;  }    /* bilibli番剧插件 */  .bangumi-active {    background: #dbecfe !important;    border-radius: 10px !important;  }  a.bangumi-tab:hover {    text-decoration: none !important;  }  .bangumi-button:hover {    background: #dbecfe !important;    border-radius: 10px !important;  }  a.bangumi-button.bangumi-nextpage:hover {    text-decoration: none !important;  }  .bangumi-button {    padding: 5px 10px !important;  }    a.bangumi-tab {    padding: 5px 10px !important;  }  svg.icon.faa-tada {    font-size: 1.1em;  }    /* 解决artitalk的图标问题 */  #uploadSource > svg {    width: 1.19em;    height: 1.5em;  }    /*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */  #page-header:not(.not-top-img):before {    background-color: transparent !important;  }    /* 首页文章卡片 */  #recent-posts > .recent-post-item {    background: rgba(255, 255, 255, 0.9);  }    /* 首页侧栏卡片 */  #aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);  }    /* 文章页面正文背景 */  div#post {    background: rgba(255, 255, 255, 0.9);  }    /* 分页页面 */  div#page {    background: rgba(255, 255, 255, 0.9);  }    /* 归档页面 */  div#archive {    background: rgba(255, 255, 255, 0.9);  }    /* 标签页面 */  div#tag {    background: rgba(255, 255, 255, 0.9);  }    /* 分类页面 */  div#category {    background: rgba(255, 255, 255, 0.9);  }    /*夜间模式伪类遮罩层透明*/  [data-theme='dark'] #recent-posts > .recent-post-item {    background: #121212;  }    [data-theme='dark'] .card-widget {    background: #121212 !important;  }    [data-theme='dark'] div#post {    background: #121212 !important;  }    [data-theme='dark'] div#tag {    background: #121212 !important;  }    [data-theme='dark'] div#archive {    background: #121212 !important;  }    [data-theme='dark'] div#page {    background: #121212 !important;  }    [data-theme='dark'] div#category {    background: #121212 !important;  }    [data-theme='dark'] div#category {    background: transparent !important;  }  /* 页脚透明 */  #footer {    background: transparent !important;  }    /* 头图透明 */  #page-header {    background: transparent !important;  }    rightside > div > button {    border-radius: 5px;  }    /* 滚动条 */    ::-webkit-scrollbar {    width: 10px;    height: 10px;  }    ::-webkit-scrollbar-thumb {    background-color: #49b1f5;    border-radius: 2em;  }    ::-webkit-scrollbar-corner {    background-color: transparent;  }    ::-moz-selection {    color: #fff;    background-color: #49b1f5;  }    /* 音乐播放器 */    /* .aplayer .aplayer-lrc {    display: none !important;  } */    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {    left: -66px !important;    transition: all 0.3s;    /* 默认情况下缩进左侧66px，只留一点箭头部分 */  }    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {    left: 0 !important;    transition: all 0.3s;    /* 鼠标悬停是左侧缩进归零，完全显示按钮 */  }    .aplayer.aplayer-fixed {    z-index: 999999 !important;  }    /* 评论框  */  .vwrap {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 30px 0px;  }    /* 设置评论框 */    .vcard {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 0px 0px;  }  /* 全局默认鼠标指针 */body,html{  cursor: url('/img/arrow.cur'),auto !important;}/* 悬停图片时的鼠标指针 */img{  cursor: url('/img/hand.cur'),auto !important;}/* 选择链接标签时的鼠标指针 */a:hover{    cursor: url('/img/link.cur'),auto;}/* 选中输入框时的鼠标指针 */input:hover{    cursor: url('/img/text.cur'),auto;}/* 悬停按钮时的鼠标指针 */button:hover{    cursor: url('/img/hand.cur'),auto;}/* 悬停列表标签时的鼠标指针 */i:hover{    cursor: url('/img/link.cur'),auto;}  /* md网站下划线 */  #article-container a:hover {    text-decoration: none !important;  }    #article-container #hpp_talk p img {    display: inline;  }    /* 404页面 */  #error-wrap {    position: absolute;    top: 40%;    right: 0;    left: 0;    margin: 0 auto;    padding: 0 1rem;    max-width: 1000px;    transform: translate(0, -50%);  }    #error-wrap .error-content {    display: flex;    flex-direction: row;    justify-content: center;    align-items: center;    margin: 0 1rem;    height: 18rem;    border-radius: 8px;    background: var(--card-bg);    box-shadow: var(--card-box-shadow);    transition: all 0.3s;  }    #error-wrap .error-content .error-img {    box-flex: 1;    flex: 1;    height: 100%;    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;    background-color: #49b1f5;    background-position: center;    background-size: cover;  }    #error-wrap .error-content .error-info {    box-flex: 1;    flex: 1;    padding: 0.5rem;    text-align: center;    font-size: 14px;    font-family: Titillium Web, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif;  }  #error-wrap .error-content .error-info .error_title {    margin-top: -4rem;    font-size: 9em;  }  #error-wrap .error-content .error-info .error_subtitle {    margin-top: -3.5rem;    word-break: break-word;    font-size: 1.6em;  }  #error-wrap .error-content .error-info a {    display: inline-block;    margin-top: 0.5rem;    padding: 0.3rem 1.5rem;    background: var(--btn-bg);    color: var(--btn-color);  }    #body-wrap.error .aside-list {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    bottom: 0px;    position: absolute;    padding: 1rem;    width: 100%;    overflow: scroll;  }    #body-wrap.error .aside-list .aside-list-group {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    max-width: 1200px;    margin: 0 auto;  }    #body-wrap.error .aside-list .aside-list-item {    padding: 0.5rem;  }    #body-wrap.error .aside-list .aside-list-item img {    width: 100%;    object-fit: cover;    border-radius: 12px;  }    #body-wrap.error .aside-list .aside-list-item .thumbnail {    overflow: hidden;    width: 230px;    height: 143px;    background: var(--heo-card-bg);    display: flex;  }    #body-wrap.error .aside-list .aside-list-item .content .title {    -webkit-line-clamp: 2;    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    line-height: 1.5;    justify-content: center;    align-items: flex-end;    align-content: center;    padding-top: 0.5rem;    color: white;  }    #body-wrap.error .aside-list .aside-list-item .content time {    display: none;  }    /* 代码框主题 */  #article-container figure.highlight {    border-radius: 10px;  }  ]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime.min.js"/>
      <url>/js/runtime.min.js</url>
      
        <content type="html"><![CDATA[var now=new Date;function createtime(){var e=new Date("08/14/2022 00:00:00");now.setTime(now.getTime()+250);var t=(now-e)/1e3/60/60/24,a=Math.floor(t),n=(now-e)/1e3/60/60-24*a,r=Math.floor(n);1==String(r).length&&(r="0"+r);var s=(now-e)/1e3/60-1440*a-60*r,i=Math.floor(s);1==String(i).length&&(i="0"+i);var o=(now-e)/1e3-86400*a-3600*r-60*i,l=Math.round(o);1==String(l).length&&(l="0"+l);let g="";g=r<18&&r>=9?`<img class="boardsign" src="/js/runtime.min.j/HerrWu-在嘎嘎学习-blue.svg" title="在知识的海洋遨游ing~"><span class="textTip"> <br> 本站居然已经唯唯诺诺地运行了 ${a} 天</span><span id="runtime"> ${r} 小时 ${i} 分 ${l} 秒 </span> <i class="fas fa-heartbeat" style="color:red"></i>`:`<img class="boardsign" src="/js/runtime.min.j/HerrWu-摸鱼去了-blue.svg" title="今天就先开溜了~"><span class="textTip"> <br> 本站居然已经唯唯诺诺地运行了 ${a} 天</span><span id="runtime"> ${r} 小时 ${i} 分 ${l} 秒 </span> <i class="fas fa-heartbeat" style="color:red"></i>`,document.getElementById("workboard")&&(document.getElementById("workboard").innerHTML=g)}setInterval((()=>{createtime()}),250);</18&&r>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>movies</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/title.js"/>
      <url>/js/title.js</url>
      
        <content type="html"><![CDATA[//动态标题var OriginTitile = document.title;var titleTime;document.addEventListener('visibilitychange', function () {  if (document.hidden) {    //离开当前页面时标签显示内容    document.title = 'w(ﾟДﾟ)w 有本事别走！';    clearTimeout(titleTime);  } else {    //返回当前页面时标签显示内容    document.title = '♪(^∇^*) 回来就好！' + OriginTitile;    //两秒后变回正常标题    titleTime = setTimeout(function () {      document.title = OriginTitile;    }, 2000);  }});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>about</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>music</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/timing.js"/>
      <url>/js/timing.js</url>
      
        <content type="html"><![CDATA[let message = document.getElementsByTagName("timing")[0];message.style.color = "red"; //设置颜色var starttime = new Date("2020/08/23 00:00:00"); //设置目标日期function showTime(){var stime = new Date();var time = stime - starttime;if(time > 0){var day = Math.floor(time/1000/3600/24); var hour = Math.floor(time%(3600*24*1000)/1000/3600);var min = Math.floor(time%(3600*24*1000)/1000%3600/60);var sec = Math.floor(time%(3600*24*1000)/1000%3600%60);var str ='我们已经相恋了'+day+'天'+hour+'小时'+min+'分钟'+sec+'秒'; //设置字符串message.innerHTML = str;}}setInterval(showTime,1000);]]></content>
      
    </entry>
    
    
  
</search>
